(window.webpackJsonp=window.webpackJsonp||[]).push([[42,73],{"7XDg":function(e,t){e.exports='<div class="external-submissions-canvas tests">\n  <bb-external-submission-header is-attempted="::isAttempted()"></bb-external-submission-header>\n  <ol class="question-list">\n    <li class="js-question" ng-repeat="question in questions() track by $index">\n      <bb-assessment-question\n        question="::question"\n        mode="::externalSubmissionCanvas.questionMode"\n        index="$index"\n        is-any-question-editing="isAnyQuestionEditing"\n      >\n      </bb-assessment-question>\n    </li>\n  </ol>\n</div>\n'},DCSD:function(e,t,s){"use strict";var i=s("Llzl"),n=s("0JpG"),a=s("ERkP"),r=s("nsO7"),o=s("C+e0");var c,l=Object(o.a)((e=>{const{translate:t}=e.localize,s="course.content.scorm.submissions",{statements:i}=e;if(!i||!i.length)return null;const n=`${e.isOrganization?"organization":"course"}.content.scorm.submissions`;return(()=>{const e=(e=>{const i=t(`${s}.notAvailable`);return e.map((e=>{const n=e.timestamp?t(`${s}.activity.formattedDate`,{datetime:new Date(e.timestamp)}):i;let a;switch(e.success){case!0:a=t(`${s}.activity.partialAction.correct`,{verb:e.verb});break;case!1:a=t(`${s}.activity.partialAction.incorrect`,{verb:e.verb});break;default:a=t(`${s}.activity.verb.${e.verb}`)}const r=e.objectDescription?`"${e.objectDescription}"`:"",o=e.answer?t(`${s}.activity.partialAction.withResponse`,{answer:e.answer}):"",c=e.score?t(`${s}.activity.partialAction.withScore`,{score:e.score}):"";return{formattedDate:n,action:t(`${s}.activity.action`,{verb:a,title:r,answer:o,score:c})}}))})(i);return a.createElement("div",{className:"scorm-statement"},a.createElement("div",{className:"table-container"},a.createElement("table",{className:"activity-table"},a.createElement("thead",null,a.createElement("tr",{className:"row report-header"},a.createElement("th",{className:"timestamp"},t(`${s}.activity.timeStamp`)),a.createElement("th",null,t(`${n}.activity.learnerAction`)))),a.createElement("tbody",null,e.map(((e,t)=>a.createElement("tr",{key:t,className:`row row${t}`},a.createElement("td",{className:"timestamp"},e.formattedDate),a.createElement("td",{className:"action",dangerouslySetInnerHTML:{__html:e.action}}))))))))})()})),m=s("aO1P");s("XpDx");!function(e){e.Correct="correct",e.Incorrect="incorrect",e.Unanticipated="unanticipated",e.Neutral="neutral"}(c||(c={}));var u=Object(o.a)((e=>{const{translate:t}=e.localize,{attemptReports:s}=e,i="course.content.scorm.submissions",n=`${e.isOrganization?"organization":"course"}.content.scorm.submissions`;if(!s||!s.length)return null;const o=t(`${i}.notAvailable`),l=t(`${i}.interactions.complete`),u=e=>{let s;return s=e&&r.isNaN(Number(e))&&r.some(Object.values(c),(t=>t===e))?t(`${i}.interactions.resultEnum.${e}`):e&&e.trim()||t(`${i}.notAvailable`),s};return a.createElement("div",{className:"scorm-interaction"},a.createElement("div",{className:"table-container"},a.createElement("table",{className:"interaction-table"},a.createElement("thead",null,a.createElement("tr",{className:"row report-header"},a.createElement("th",{className:"title"},t(`${i}.interactions.learningObject`)),a.createElement("th",null,t(`${i}.interactions.status`)),a.createElement("th",null,t(`${i}.interactions.score`)),a.createElement("th",null,t(`${n}.interactions.learnerResponse`)),a.createElement("th",null,t(`${i}.interactions.result`)),a.createElement("th",null,t(`${i}.interactions.time`)))),a.createElement("tbody",null,s.map(((e,s)=>a.createElement("tr",{key:s,className:"row"},a.createElement("td",{className:`level-${e.level} title`},e.title),a.createElement("td",{className:"status"},e.isCompleted?l:o),a.createElement("td",{className:"score"},function(e){return null!=e.scaledScore&&e.isCompleted?t(`${i}.interactions.scaledScore`,{score:100*e.scaledScore}):o}(e)),a.createElement("td",{className:"learnerResponse"},e.learnerResponse||o),a.createElement("td",{className:"result"},u(e.result)),a.createElement("td",{className:"totalTime"},e.totalTime?a.createElement(m.a,{duration:e.totalTime}):o))))))))})),p=s("SrEc");var d,b=Object(o.a)((e=>{const{translate:t,formatNumber:s}=e.localize,i="course.content.scorm.submissions",{summary:n}=e,o=`${e.isOrganization?"organization":"course"}.content.scorm.submissions`;if(!n)return null;const c=(e,i)=>{if(e>0&&i>0){let n,a=e-i;return n=0===a?`${o}.summary.sameWithAverage`:a>0?`${o}.summary.moreThanAverage`:`${o}.summary.lessThanAverage`,a=Math.abs(a),t(n,{duration:Object(m.b)(a,s,t)})}return""};return(()=>{const e=t(`${i}.notAvailable`),l=t(`${i}.interactions.complete`),u=t(`${i}.interactions.incomplete`);let d=[n.overallTime&&{title:t(`${i}.summary.totalTime`),content:Object(m.b)(n.overallTime,s,t)||e,additionalInfo:c(n.overallTime,n.classAverageTime)},n.classAverageTime&&{title:t(`${o}.summary.classAverageTime`),content:Object(m.b)(n.classAverageTime,s,t)||e},{title:t(`${i}.summary.amountAttempted`),content:(b=n.attemptPercentage,(r.isNumber(b)?t(`${i}.summary.amountAttemptedValue`,{percentage:b}):null)||e)},{title:t(`${i}.interactions.status`),content:n.complete?l:u}];var b;return d=r.compact(d),a.createElement("div",{className:"scorm-submission-summary-container"},a.createElement(p.a,{summary:d}))})()}));!function(e){e.Interaction="interaction",e.Statement="statement"}(d||(d={}));class v extends a.Component{constructor(e){super(e),this.attemptReports=this.getAttemptReports(this.props.submissionDetail),this.summaryReport=this.getSummary(this.attemptReports),this.scoReports=this.attemptReports&&this.attemptReports.filter((e=>0!==e.level)),this.statements=this.getAttemptStatements(this.props.submissionDetail),this.state={view:this.shouldShowInteractionView()?d.Interaction:d.Statement}}getSummary(e){if(!e||!e.length)return null;const t=e&&e.find((e=>0===e.level));return{overallTime:t&&t.overallTime,classAverageTime:this.props.classAverageTime,attemptPercentage:this.getAttemptPercentage(e),complete:t&&t.isCompleted}}getAttemptPercentage(e){const t=e&&e.length,s=e&&e.filter((e=>e.isCompleted)).length,i=r.isNumber(t)&&r.isNumber(s)&&t>0?Number.parseInt(""+s/t*100,10):null;return r.isNumber(i)?i:null}getAttemptReports(e){return e&&e.attemptReports||[]}getAttemptStatements(e){return e&&e.tinCanStmt||[]}shouldShowInteractionView(){return!(!this.scoReports||!this.scoReports.length)}shouldShowStatementView(){return!(!this.statements||!this.statements.length)}switchView(e){this.setState((t=>{if(t&&t.view!==e)return{view:e}}))}render(){this.attemptReports=this.getAttemptReports(this.props.submissionDetail),this.summaryReport=this.getSummary(this.attemptReports),this.scoReports=this.attemptReports&&this.attemptReports.filter((e=>0!==e.level)),this.statements=this.getAttemptStatements(this.props.submissionDetail);const{translate:e}=this.props.localize,{view:t}=this.state;let s;return t===d.Interaction?s=a.createElement(u,{attemptReports:this.scoReports,isOrganization:this.props.isOrganization}):t===d.Statement&&(s=a.createElement(l,{statements:this.statements,isOrganization:this.props.isOrganization})),a.createElement("div",{className:"scorm-submission"},a.createElement(b,{summary:this.summaryReport,isOrganization:this.props.isOrganization}),this.shouldShowInteractionView()&&this.shouldShowStatementView()?a.createElement("div",{className:"toggle-header"},a.createElement("ul",null,this.shouldShowInteractionView()?a.createElement("li",{className:t===d.Interaction?"active":"",tabIndex:0,onClick:()=>this.switchView(d.Interaction)},e("course.content.scorm.submissions.learningObjectInteraction")):null,this.shouldShowStatementView()?a.createElement("li",{className:t===d.Statement?"active":"",tabIndex:0,onClick:()=>this.switchView(d.Statement)},e("course.content.scorm.submissions.attemptActivity")):null)):null,a.createElement("div",{className:"submission-details"},s))}}var h=Object(o.a)(v),g=s("1ZbL");s.d(t,"a",(function(){return S}));const S="ultra.components.directives.content.scorm.scormSubmission",w={Class:h,bindingNames:["submissionDetail","classAverageTime","isOrganization"],renderLocalized:!0,withThemeProvider:!1};i.module(S,[n.moduleName]).component("bbScormSubmission",Object(g.a)(w))},HApu:function(e,t,s){var i=s("ziER"),n=s("5JeM"),a=new i({id:"icon-medium-rubric",use:"icon-medium-rubric-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-rubric"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M19 5h4v4h-4zM11 5h4v4h-4zM19 12h4v4h-4zM11 12h4v4h-4zM19 19h4v4h-4zM11 19h4v4h-4zM19 1h4M11 1h4M1 8h4M1 15h4M1 22h4M1 5h6M1 12h6M1 19h6" /></symbol>'});n.add(a);e.exports=a},KNVi:function(e,t){e.exports='<bb-slider-tab-navigation class="attempt-canvas-with-navigation" tabs="attemptCanvasWithNavigation.tabsDataObject" scroll-container=".panel-wrap">\n  <ng-switch on="isSecureBrowserRequiredToReview">\n    <div class="proctoring-review-container" ng-switch-when="true">\n      <div>\n        <a href="javascript:void(0);"\n           class="button"\n           ng-click="attemptCanvasWithNavigation.navigateSecureAttemptReview()"\n           bb-translate\n           analytics-id="components.directives.assessment-attempt-review.navigateAttemptReview.link">\n          {{::attemptCanvasWithNavigation.secureReviewButtonText}}\n        </a>\n      </div>\n      <div>\n        <span ng-bind-html="attemptCanvasWithNavigation.secureReviewDownload"></span>\n      </div>\n    </div>\n\n    <div ng-switch-when="false">\n      <bb-attempt-canvas\n        attempt="attempt"\n        canvas-type="::canvasType()"\n        gradebook-category="attemptCanvasWithNavigation.scope.gradebookCategory()"\n        graded-question-attempts="attemptCanvasWithNavigation.scope.gradedQuestionAttempts()"\n        is-any-question-editing="attemptCanvasWithNavigation.scope.isAnyQuestionEditing"\n        peer-reviewer="attemptCanvasWithNavigation.isPeerReviewer"\n        ng-if="attemptCanvasWithNavigation.scope.gradedQuestionAttempts() !== null"\n      >\n      </bb-attempt-canvas>\n\n      <div class="submission-not-available-container" ng-if="attemptCanvasWithNavigation.scope.gradedQuestionAttempts() === null">\n        <img class="submission-not-available-container__image" src="./static/images/submissions/submission-not-available.svg" aria-hidden="true">\n        <h2 class="submission-not-available-container__header" bb-translate>components.directives.attempt-canvas.freeform-response.review.header.notAvailable</h2>\n        <p bb-translate>{{::attemptCanvasWithNavigation.getSubmissionAvailabilityCondition()}}</p>\n      </div>\n    </div>\n  </ng-switch>\n</bb-slider-tab-navigation>\n'},KTGc:function(e,t,s){var i=s("ziER"),n=s("5JeM"),a=new i({id:"icon-custom-risk-med",use:"icon-custom-risk-med-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-custom-risk-med"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><circle stroke="#FF9600" cx="15" cy="15" r="15" /><circle stroke="#FF9600" fill="#FF9600" cx="15" cy="15" r="12" /><path d="M8 15h14" stroke="#333" stroke-width="2" stroke-linecap="round" /></g></symbol>'});n.add(a);e.exports=a},KiSq:function(e,t,s){var i=s("ziER"),n=s("5JeM"),a=new i({id:"icon-medium-assignment",use:"icon-medium-assignment-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-assignment"><path d="M3 1h13l5 5v17H3V1z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M15 1v6h6M7 12h9M7 15h10M7 18h9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});n.add(a);e.exports=a},SrEc:function(e,t,s){"use strict";var i=s("ERkP"),n=s("C+e0");s.d(t,"a",(function(){return a}));const a=e=>{const{summary:t}=e;if(!t||!t.length)return null;return i.createElement("div",{className:"scorm-submission-summary row"},i.createElement("ul",{className:"row"},t.map(((e,t)=>i.createElement("li",{key:t,className:"columns small-6"},i.createElement("div",{className:"title"},e.title),i.createElement("span",{className:"info"},e.content),i.createElement("p",{className:"addition"},e.additionalInfo))))))};Object(n.a)(a)},TbLZ:function(e,t,s){"use strict";function i(e){return e<15?"risk-low":e>=15&&e<40?"risk-med":"risk-high"}s.d(t,"a",(function(){return i}))},TcF8:function(e,t,s){"use strict";var i=s("D57K"),n=(s("KiSq"),s("xoIb"),s("HApu"),s("Lrq8"),s("Llzl")),a=s("e0uO"),r=s("jWRJ"),o=s("m5He"),c=s("wtKk"),l=s("X455"),m=s("0JpG"),u=s("+O05"),p=s("aHpC"),d=s("nmzr"),b=s("15AK"),v=s("UJGg"),h=s("7XDg");s.d(t,"a",(function(){return g}));const g="ultra.directives.assessment.external-submission-canvas",S="feedback";let w=class{constructor(e,t,s){this.scope=e,this.currentMembership=t,this.ultraLocalizeService=s,this.questionMode=a.a.QuestionReview,this.scope.useNavigation&&(this.tabsDataObject=this.buildTabsDataObject(),this.scope.$watch("attempt.id",(()=>{this.updateTabData()})),this.scope.$on(b.FEEDBACK_UPDATED,(()=>{this.tabsDataObject.browsableSection.main.iconName=this.getFeedbackIcon()})))}buildTabsDataObject(){var e;const t=this.getBasePath(),s={transcludedSection:{nameId:"assessment",iconName:"assignment",title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.submission"),stateRoute:t,analyticsIdPrefix:"components.directives.assessment.externalSubmissionCanvas.assessmentTab"},browsableSection:{main:{nameId:"feedback",iconName:this.getFeedbackIcon(),title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.instructor-feedback"),stateRoute:`${t}.assessment-submission-feedback-tab`,stateArgs:{attemptId:null===(e=this.scope.attempt)||void 0===e?void 0:e.id},enableModalBlockNavigation:!0,analyticsIdPrefix:"components.directives.assessment.externalSubmissionCanvas.feedbackTab"},browsableTabs:[]}};return this.scope.hasRubricAssociation&&s.browsableSection.browsableTabs.push({nameId:"rubric",iconName:"rubric",title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.rubric"),stateRoute:`${t}.inline-rubric`,enableModalBlockNavigation:!0,analyticsIdPrefix:"components.directives.assessment.externalSubmissionCanvas.rubricTab"}),s}updateTabData(){this.scope.attempt.id!==this.tabsDataObject.browsableSection.main.stateArgs.attemptId&&(this.tabsDataObject.browsableSection.main.stateArgs.attemptId=this.scope.attempt.id)}getBasePath(){return this.currentMembership.isStudentMembership()?d.H.Assessment.ASSESSMENT_ATTEMPT_REVIEW:this.isGroup()?d.H.Grade.GROUP_SUBMISSION_GRADING:d.H.Grade.SUBMISSION_GRADING}getStringFromLocale(e){return this.ultraLocalizeService.translateSync({key:e,locale:this.ultraLocalizeService.getLocale(this.scope)})}isGroup(){return this.scope.attempt.groupAssociationId&&this.scope.attempt.groupId}getFeedbackIcon(){return this.currentMembership.isStudentMembership()||u.a.attemptHasFeedback(this.scope.attempt)?S:"add-feedback"}};w=Object(i.a)([Object(i.c)(0,Object(p.b)("$scope")),Object(i.c)(1,Object(p.b)(l.d)),Object(i.c)(2,Object(p.b)(m.serviceName))],w);class f{constructor(e,t){this.$compile=e,this.$injector=t,this.controllerAs="externalSubmissionCanvas",this.controller=w,this.scope={hasRubricAssociation:"=",attempt:"=",questions:"&",isAttempted:"&?",isAnyQuestionEditing:"=?",useNavigation:"&?"},this.link=(e,t,s)=>{const i=e.useNavigation?v:h,n=this.$compile(i)(e);t.append(n)}}}f.$inject=["$compile","$injector"],n.module(g,[r.a,o.a,c.c]).directive("bbExternalSubmissionCanvas",["$injector",e=>e.instantiate(f)])},Tiy3:function(e,t){e.exports='<div class="originality-tab__content">\n  <div ng-if="$ctrl.originalityReportService.isSafeAssignActiveOriginalityProvider()"\n       class="originality-tab__portal-wrapper originality-tab__portal-wrapper--safeassign">\n    <bb-originality-report class="originality-tab__portal originality-tab__portal--safeassign">\n    </bb-originality-report>\n  </div>\n  <div ng-if="$ctrl.originalityReportService.isIntegrationActiveOriginalityProvider() && $ctrl.originalityReportService.portalIntegrationId"\n       class="originality-tab__portal-wrapper originality-tab__portal-wrapper--uef">\n    <bb-portal-host\n      class="originality-tab__portal originality-tab__portal--uef"\n      selector="components.directives.attempt-grading.originality-report"\n      initial-owning-integration-id="$ctrl.originalityReportService.portalIntegrationId"\n      selector-data="{\'courseId\': $ctrl.originalityReportService.courseContent.courseId,\n                      \'contentId\': $ctrl.ultraState.params.contentId,\n                      \'attemptId\': $ctrl.ultraState.params.attemptId,\n                      \'groupId\': $ctrl.ultraState.params.groupId }"\n    ></bb-portal-host>\n  </div>\n</div>\n'},UJGg:function(e,t){e.exports='<bb-slider-tab-navigation class="canvas-with-navigation external-submissions-navigation" tabs="externalSubmissionCanvas.tabsDataObject" scroll-container=".panel-wrap">\n  <div class="external-submissions-canvas tests">\n    <bb-external-submission-header is-attempted="::isAttempted()"></bb-external-submission-header>\n    <ol class="question-list">\n      <li class="js-question" ng-repeat="question in questions() track by $index">\n        <bb-assessment-question\n          question="::question"\n          mode="::externalSubmissionCanvas.questionMode"\n          index="$index"\n          is-any-question-editing="isAnyQuestionEditing"\n        >\n        </bb-assessment-question>\n      </li>\n    </ol>\n  </div>\n</bb-slider-tab-navigation>\n'},XpDx:function(e,t,s){},Xpa5:function(e,t,s){"use strict";var i=s("D57K"),n=(s("KiSq"),s("xoIb"),s("HApu"),s("Lrq8"),s("Llzl")),a=s("KNVi"),r=s("ihlU"),o=s("wtKk"),c=s("36CG"),l=s("X455"),m=s("0JpG"),u=s("+O05"),p=s("aHpC"),d=s("nmzr"),b=s("15AK"),v=s("djtz"),h=s("YHe3"),g=s("zGdY"),S=s("IbyE");s.d(t,"a",(function(){return w}));const w="ultra.components.directives.attemptCanvasWithNavigation",f="feedback";let y=class{constructor(e,t,s,i,n,a,r){var o;this.scope=e,this.currentMembership=t,this.currentContent=s,this.originalityTabService=i,this.ultraLocalizeService=n,this.proctoring=a,this.$sce=r,this.tabsDataObject=this.buildTabsDataObject(),this.scope.isSecureBrowserRequiredToReview=null!==(o=this.scope.isSecureBrowserRequiredToReview)&&void 0!==o&&o,this.scope.isSecureBrowserRequiredToReview&&(this.secureReviewButtonText=this.proctoring.getProctoringReviewButtonText(this.currentContent.content.getProctoringServiceVendor()),this.secureReviewDownload=this.$sce.trustAsHtml(this.ultraLocalizeService.translateSync({key:this.proctoring.getProctoringReviewDownloadText(this.currentContent.content.getProctoringServiceVendor()),params:{downloadUrl:this.currentContent.content.getProctoringDownloadUrl()},locale:this.ultraLocalizeService.getLocale(this.scope),noWrap:!0,noEscape:!0}))),this.scope.$watch("attempt.id",(()=>{this.updateTabData()})),this.scope.$on(b.FEEDBACK_UPDATED,(()=>{this.tabsDataObject.browsableSection.main.iconName=this.getFeedbackIcon()}))}buildTabsDataObject(){const e=this.getBasePath(),t={transcludedSection:{nameId:"assessment",iconName:"assignment",title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.submission"),stateRoute:e,analyticsIdPrefix:"components.directives.assessment.attemptCanvas.assessmentTab"},browsableSection:{main:{nameId:"feedback",iconName:this.getFeedbackIcon(),title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.instructor-feedback"),stateRoute:`${e}.assessment-submission-feedback-tab`,stateArgs:{attemptId:this.scope.attempt.id},enableModalBlockNavigation:!0,analyticsIdPrefix:"components.directives.assessment.attemptCanvas.feedbackTab"},browsableTabs:[]}};return this.scope.hasRubricAssociation&&t.browsableSection.browsableTabs.push({nameId:"rubric",iconName:"rubric",title:this.getStringFromLocale("components.directives.slider-tab-navigation.tabs.rubric"),stateRoute:`${e}.inline-rubric`,enableModalBlockNavigation:!0,analyticsIdPrefix:"components.directives.assessment.attemptCanvas.rubricTab"}),this.isPeerReviewer||this.originalityTabService.shouldShowOriginalityTab(this.currentContent.content).then((e=>{e&&this.tabsDataObject.browsableSection.browsableTabs.push({nameId:"originality",iconName:"safe-assign",title:this.getStringFromLocale("course.content.originalityReport.attemptCanvas.tabLabel"),stateRoute:`${this.getBasePath()}.originality-tab`,analyticsIdPrefix:"components.directives.assessment.attemptCanvas.originalityTab"})})),t}navigateSecureAttemptReview(){const e={password:null,attemptId:this.scope.attempt.id};this.currentContent.content.getProctoringLaunchLink(e).then((e=>{this.proctoring.openRespondusProctoringLaunchLink(e)}))}get isPeerReviewer(){var e,t,s;return null!==(s=null===(t=(e=this.scope).peerReviewer)||void 0===t?void 0:t.call(e))&&void 0!==s&&s}getSubmissionAvailabilityCondition(){var e,t;const s=null===(t=null===(e=this.currentContent.content.getDeployedAssessment())||void 0===e?void 0:e.deploymentSettings)||void 0===t?void 0:t.feedbackSettings,{mode:i,associatedDate:n}=S.s.getFeedbackModeByOption(g.f.UserAnswers,s);switch(i){case g.e.AfterAttemptGraded:return this.ultraLocalizeService.translateSync({locale:this.ultraLocalizeService.getLocale(this.scope),key:"components.directives.attempt-canvas.freeform-response.review.subtext.submissionAvailability.afterAllGradesPosted"});case g.e.AfterDueDate:return this.ultraLocalizeService.translateSync({locale:this.ultraLocalizeService.getLocale(this.scope),key:"components.directives.attempt-canvas.freeform-response.review.subtext.submissionAvailability.afterDueDate"});case g.e.OnSpecifiedDate:return this.ultraLocalizeService.translateSync({locale:this.ultraLocalizeService.getLocale(this.scope),key:"components.directives.attempt-canvas.freeform-response.review.subtext.submissionAvailability.onSpecificDate",params:{date:n},noWrap:!0});case g.e.AfterIndividualGradeIsPosted:return this.ultraLocalizeService.translateSync({locale:this.ultraLocalizeService.getLocale(this.scope),key:"components.directives.attempt-canvas.freeform-response.review.subtext.submissionAvailability.afterIndividualGradePosted"});default:return this.ultraLocalizeService.translateSync({locale:this.ultraLocalizeService.getLocale(this.scope),key:"components.directives.attempt-canvas.freeform-response.review.subtext.submissionAvailability.noneSpecified"})}}updateTabData(){this.scope.attempt.id!==this.tabsDataObject.browsableSection.main.stateArgs.attemptId&&(this.tabsDataObject.browsableSection.main.stateArgs.attemptId=this.scope.attempt.id)}getBasePath(){return this.isPeerReviewer?d.H.Assessment.ASSESSMENT_PEER_GRADING:this.currentMembership.isStudentMembership()?d.H.Assessment.ASSESSMENT_ATTEMPT_REVIEW:this.isGroup()?d.H.Grade.GROUP_SUBMISSION_GRADING:d.H.Grade.SUBMISSION_GRADING}getStringFromLocale(e){return this.ultraLocalizeService.translateSync({key:e,locale:this.ultraLocalizeService.getLocale(this.scope)})}isGroup(){return this.scope.attempt.groupAssociationId&&this.scope.attempt.groupId}getFeedbackIcon(){return this.currentMembership.isStudentMembership()||u.a.attemptHasFeedback(this.scope.attempt)?f:"add-feedback"}};y=Object(i.a)([Object(i.c)(0,Object(p.b)("scope")),Object(i.c)(1,Object(p.b)(l.d)),Object(i.c)(2,Object(p.b)(c.g)),Object(i.c)(3,Object(p.b)(v.serviceName)),Object(i.c)(4,Object(p.b)(m.serviceName)),Object(i.c)(5,Object(p.b)(h.b)),Object(i.c)(6,Object(p.b)("$sce"))],y);class A{constructor(e){this.$injector=e,this.template=a,this.scope={hasRubricAssociation:"=",attempt:"=",canvasType:"&",gradebookCategory:"&",gradedQuestionAttempts:"&",isAnyQuestionEditing:"=",peerReviewer:"&?",isSecureBrowserRequiredToReview:"<"},this.link=(e,t,s)=>{e.attemptCanvasWithNavigation=this.$injector.instantiate(y,{scope:e,element:t,attrs:s})}}}A.$inject=["$injector"],n.module(w,[r.a,o.c,v.moduleName]).directive("bbAttemptCanvasWithNavigation",["$injector",e=>e.instantiate(A)])},XsWM:function(e,t){e.exports='<div class="external-submissions-header">\n  <div class="external-submissions-inner-container">\n    <img src="./static/images/submissions/submissions_not_required_on_dropbox.svg" alt=""/>\n    <div>\n      <h3 bb-translate>course.content.assessment.content.externalSubmissions</h3>\n      <p bb-translate course-org-token-resolver>{{::externalSubmissionHeader.descriptionToken}}</p>\n    </div>\n  </div>\n</div>'},YQRP:function(e,t){e.exports='<div class="originality-reports">\n  <div ng-if="::$ctrl.originalityReportService.hasValidReports()">\n    <div class="risk">\n      <bb-svg-icon size="custom" icon="{{::$ctrl.scoreToLevel($ctrl.originalityReportService.personalAverageScore)}}"></bb-svg-icon>\n      <span class="js-risk-status" bb-translate>components.directives.attempt-canvas.safe-assign.{{$ctrl.scoreToLevel($ctrl.originalityReportService.personalAverageScore)}}</span>\n    </div>\n    <p bb-translate>components.directives.attempt-canvas.safe-assign.{{$ctrl.scoreToLevel($ctrl.originalityReportService.personalAverageScore)}}-desc</p>\n\n    <div class="overall">\n      <h3 bb-translate>components.directives.attempt-canvas.safe-assign.overall</h3>\n      <div class="container">\n        <div class="section left">\n          <div class="title" bb-translate>components.directives.attempt-canvas.safe-assign.average-match</div>\n          <div class="percentage-score" bb-translate="components.directives.attempt-canvas.safe-assign.match-score"\n               translate-values="{score: $ctrl.originalityReportService.personalAverageScore}">\n          </div>\n          <div class="info" ng-if="::$ctrl.originalityReportService.classAverageScore !== undefined">\n            <span bb-translate>components.directives.attempt-canvas.safe-assign.class-average</span>:\n            <span bb-translate="components.directives.attempt-canvas.safe-assign.match-score" translate-values="{score: $ctrl.originalityReportService.classAverageScore}"></span>\n          </div>\n        </div>\n        <div class="section">\n          <div class="title" bb-translate>components.directives.attempt-canvas.safe-assign.highest-match</div>\n          <div class="percentage-score" bb-translate="components.directives.attempt-canvas.safe-assign.match-score"\n               translate-values="{score: $ctrl.originalityReportService.personalMaxScore}">\n          </div>\n          <div class="info" ng-if="::$ctrl.originalityReportService.classAverageScore !== undefined">{{::$ctrl.originalityReportService.personalMaxScoreReportName}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="::!$ctrl.originalityReportService.hasValidReports()" class="no-valid-reports">\n    <p bb-translate>components.directives.attempt-canvas.safe-assign.no-valid-reports</p>\n  </div>\n\n  <h3 class="report" bb-translate="components.directives.attempt-canvas.safe-assign.report" translate-values="{count: $ctrl.originalityReportService.reports.length}"></h3>\n  <ul class="row">\n    <li ng-repeat="attachment in ::$ctrl.originalityReportService.reports">\n      <a class="attachment-wrapper" \n         ng-href="{{::attachment.reportLink}}" \n         target="_blank" \n         ng-class="::{invalid: attachment.invalid}" \n         rel="noopener noreferrer"\n         analytics-id="components.directives.attemptCanvas.safeAssign.reportLink.link">\n        <div class="wrapper-left">\n          <div ng-if="::attachment.invalid" bb-tooltip enhanced-tooltip="true" tooltip-position="top-center" tabindex="0" role="button"\n               bb-translate-attrs="{title: \'components.directives.attempt-canvas.safe-assign.\' + attachment.errorMsg}">\n            <bb-svg-icon size="medium" icon="attention" status="alert"></bb-svg-icon>\n          </div>\n          <bb-svg-icon ng-if="::!attachment.invalid" size="custom" icon="{{::$ctrl.scoreToLevel(attachment.score)}}"></bb-svg-icon>\n          <div class="question-attachment">\n            <div class="question-name">\n              <span ng-if="::attachment.isQuestionAnswerContent" translate-values="{index: attachment.visibleQuestionNumber}" bb-translate="components.directives.attempt-canvas.safe-assign.question-title"></span>\n              <span ng-if="::!attachment.isQuestionAnswerContent" bb-translate>components.directives.attempt-canvas.safe-assign.additional-content</span>\n            </div>\n            <div class="attachment-name">{{::attachment.name}}</div>\n          </div>\n        </div>\n        <div ng-if="::!attachment.invalid" class="wrapper-right" bb-translate="components.directives.attempt-canvas.safe-assign.match-score"\n             translate-values="{score: attachment.score}">\n        </div>\n      </a>\n    </li>\n  </ul>\n</div>\n'},aO1P:function(e,t,s){"use strict";s.d(t,"b",(function(){return c}));var i,n=s("ERkP"),a=s("nsO7"),r=s("C+e0");!function(e){e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds"}(i||(i={}));const o=[{label:i.Hours,base:36e5},{label:i.Minutes,base:6e4},{label:i.Seconds,base:1e3}],c=(e,t,s)=>{if(!(a.isNumber(e)&&e>0))return"";const n={hours:"0",minutes:"0",seconds:"0"};return o.forEach((s=>{if(e>0){let a=1;s.label!==i.Seconds?a=Math.floor(e/s.base):e>=s.base&&(a=Math.round(e/s.base)),n[s.label]=t(a,{minimumIntegerDigits:2}),e%=s.base}})),s("global.timeSpan.shortTimeline",n).trim().replace(/\s+/g," ")};t.a=Object(r.a)((e=>(()=>{const{duration:t}=e,{formatNumber:s,translate:i}=e.localize;return n.createElement("span",null,c(t,s,i))})()))},djtz:function(e,t,s){"use strict";s.r(t);var i=s("D57K"),n=s("Llzl"),a=s("yC9S"),r=s("aHpC"),o=s("Tiy3"),c=(s("tJp6"),s("tWwi"),s("KTGc"),s("TbLZ")),l=s("5uPl"),m=s("YQRP");const u="ultra.components.directives.assessment.originalityReport";let p=class{constructor(e){this.originalityReportService=e,this.scoreToLevel=c.a}};p.$inject=[l.b],p=Object(i.a)([Object(a.a)({moduleName:u,componentName:"bbOriginalityReport",template:m,requireModules:[l.a]})],p);var d=s("X455");s.d(t,"moduleName",(function(){return b})),s.d(t,"serviceName",(function(){return v})),s.d(t,"controllerName",(function(){return h})),s.d(t,"componentName",(function(){return g})),s.d(t,"originalityTabModule",(function(){return S})),s.d(t,"OriginalityTabController",(function(){return w})),s.d(t,"OriginalityTabService",(function(){return f})),s.d(t,"template",(function(){return y})),s.d(t,"templateUrl",(function(){return o}));const b="ultra.features.course.content.assessment.originalityTab",v="ultra.features.course.content.assessment.originalityTab.service",h="ultra.features.course.content.assessment.originalityTab.controller",g="originalityTab",S=n.module(b,[d.a,l.a,u]);let w=class{constructor(e){this.originalityReportService=e}};w=Object(i.a)([Object(a.a)({module:S,componentName:g,template:o}),Object(i.c)(0,Object(r.b)(l.b))],w);let f=class{constructor(e,t,s){this.$q=e,this.originalityReportService=t,this.currentCourseMembershipService=s}shouldShowOriginalityTab(e){return this.originalityReportService.fetchIsOriginalityEnabled(e).then((e=>{if(!e)return!1;const t=this.originalityReportService.isSafeAssignActiveOriginalityProvider(),s=this.currentCourseMembershipService.hasCourseMembership()&&this.currentCourseMembershipService.isStudentMembership();return!t||!s||this.originalityReportService.canStudentViewReports()}))}};f=Object(i.a)([Object(i.c)(0,Object(r.b)("$q")),Object(i.c)(1,Object(r.b)(l.b)),Object(i.c)(2,Object(r.b)(d.d))],f);const y='\n  <div class="originality-tab-wrapper">\n    <originality-tab class="originality-tab"></originality-tab>\n    <div ui-view></div>\n  </div>\n';S.controller(h,w),S.service(v,f)},m5He:function(e,t,s){"use strict";s("JzsJ");var i=s("Llzl"),n=s("ZzYr"),a=s("Qbdf"),r=s("jhBu"),o=s("Sa5G"),c=s("XsWM");s.d(t,"a",(function(){return l}));const l="ultraUi.components.directives.assessment.externalSubmissionHeader";class m{constructor(e,t,s,i){this.scope=e,this.$stateParams=t,this.contextCourse=s,this.entitlementService=i;const n=s.courseId||t.courseId;this.entitlementService.hasCourseEntitlement(o.f.ModifyContent,n).then((e=>{e?this.descriptionToken="course.content.assessment.content.extSubPrivilegedDesc":this.scope.isAttempted&&this.scope.isAttempted()?this.descriptionToken="course.content.assessment.content.extSubNonPrivAttemptedDesc":this.descriptionToken="course.content.assessment.content.extSubNonPrivNotAttemptedDesc"}))}}m.$inject=["scope","$stateParams",a.e,r.b];class u{constructor(e){this.$injector=e,this.restrict="E",this.template=c,this.scope={isAttempted:"&?"},this.link=e=>{e.externalSubmissionHeader=this.$injector.instantiate(m,{scope:e})}}}u.$inject=["$injector"],i.module(l,["ui.router",n.a,a.b,r.a]).directive("bbExternalSubmissionHeader",["$injector",e=>e.instantiate(u)])},tJp6:function(e,t,s){var i=s("ziER"),n=s("5JeM"),a=new i({id:"icon-custom-risk-high",use:"icon-custom-risk-high-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-custom-risk-high"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><circle stroke="#FF4A36" cx="15" cy="15" r="15" /><circle stroke="#FF4A36" fill="#FF4A36" cx="15" cy="15" r="12" /><path d="M10 10l10 10M20 10l-10 9.9903" stroke="#333" stroke-width="2" stroke-linecap="round" /></g></symbol>'});n.add(a);e.exports=a},tWwi:function(e,t,s){var i=s("ziER"),n=s("5JeM"),a=new i({id:"icon-custom-risk-low",use:"icon-custom-risk-low-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-custom-risk-low"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><circle stroke="#39E379" cx="15" cy="15" r="15" /><circle stroke="#39E379" fill="#39E379" cx="15" cy="15" r="12" /><path stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M10 15.0815L14.0154 19.1 19.49 11" /></g></symbol>'});n.add(a);e.exports=a}}]);