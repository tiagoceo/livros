(window.webpackJsonp=window.webpackJsonp||[]).push([[133,728],{"1rh6":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 350 186.1" enable-background="new 0 0 350 186.1" xml:space="preserve"><style>.style0{fill:\t#424242;}.style1{fill:\t#FFFFFF;}.style10{fill:\t#E4F9F2;}.style11{fill:\t#B5EEDC;}.style12{fill:\t#5DD9A9;}.style13{fill:\t#E3F4FD;}.style14{fill:\t#C9DDEA;}.style15{fill:\t#F3FAFE;}.style16{fill:\t#AFC6D6;}.style17{fill:\t#15729A;}.style18{fill:\t#FE6619;}.style19{fill:\t#04D6FF;}.style2{fill:\t#E5E5E5;}.style20{fill:\t#FEDF1E;}.style21{fill:\t#C672D4;}.style22{fill:\t#858585;}.style3{fill:\t#C472D3;}.style4{fill:\t#8848B4;}.style5{fill:\t#448EAE;}.style6{fill:\t#95BFD1;}.style7{fill:\t#D2ECFA;}.style8{fill:\t#2DCF9A;}.style9{fill:\t#04BA86;}</style><g><path d="M323.5 148.8c0-11.4-68.8-20.6-153.8-20.6s-153.8 9.2-153.8 20.6c0 0 0 0 0 0L323.5 148.8 C323.5 148.8 323.5 148.8 323.5 148.8z" class="style0"/></g><g><path d="M114.8 130.7c-4.8 0-8.8-3.9-8.8-8.8L105.7 12c0-4.8 3.9-8.8 8.8-8.8l110.1-0.3c4.8 0 8.8 3.9 8.8 8.8 l0.3 109.9c0 4.8-3.9 8.8-8.8 8.8L114.8 130.7z" class="style1"/><path d="M172.1 142.6l52.8-0.1c4.8 0 8.8-4 8.8-8.8l-0.1-64.8l-61.6 0.1L172.1 142.6z" class="style2"/><path d="M172.1 121.9l52.8-0.1c4.8 0 8.8-4 8.8-8.8l-0.1-44l-61.6 0.1L172.1 121.9z" class="style1"/><path d="M167.4 3l-52.8 0.1c-4.8 0-8.8 4-8.8 8.8l0.1 52.8l61.6-0.1L167.4 3z" class="style3"/><path d="M105.9 69.2L106 134c0 4.8 4 8.8 8.8 8.8l52.8-0.1l-0.1-73.6L105.9 69.2z" class="style4"/><path d="M105.9 69.2l0.1 44c0 4.8 4 8.8 8.8 8.8l52.8-0.1l-0.1-52.8L105.9 69.2z" class="style3"/><path d="M224.6 2.9L171.8 3l0.1 61.6l61.6-0.1l-0.1-52.8C233.4 6.8 229.4 2.9 224.6 2.9z" class="style3"/><rect x="123.4" y="33.9" transform="matrix(-1 2.411514e-03 -2.411514e-03 -1 277.7426 71.919)" width="30.8" height="4.4" class="style1"/><rect x="185.1" y="33.8" transform="matrix(-1 2.411514e-03 -2.411514e-03 -1 401.0196 71.4731)" width="30.8" height="4.4" class="style1"/><rect x="185.2" y="91" transform="matrix(-1 2.411514e-03 -2.411514e-03 -1 401.4337 185.9446)" width="30.8" height="4.4" class="style3"/><rect x="185.2" y="99.8" transform="matrix(-1 2.411514e-03 -2.411514e-03 -1 401.4973 203.5556)" width="30.8" height="4.4" class="style3"/><rect x="136.6" y="20.7" transform="matrix(-1 2.411514e-03 -2.411514e-03 -1 277.7426 71.919)" width="4.4" height="30.8" class="style1"/><rect x="123.6" y="95.6" transform="matrix(-0.7088 -0.7054 0.7054 -0.7088 168.5224 265.0951)" width="30.8" height="4.4" class="style1"/><rect x="136.8" y="82.4" transform="matrix(-0.7088 -0.7054 0.7054 -0.7088 168.5224 265.0951)" width="4.4" height="30.8" class="style1"/><line x1="306.5" y1="147" x2="305.5" y2="149.9" class="style5"/><polygon points="224.7,149.7 216.8,147 255.1,32.9 335.7,59.9 306.5,147" class="style5"/><polygon points="209.5,146.6 246.1,37.3 326.7,64.4 299.3,146.3" class="style6"/><path d="M224.7 149.4l65.9 0.5" class="style7"/><path d="M290.6 149.9l15.9-47.5l-24.6-15.7l2.3-29.1L243.9 44c-3.7-1.2-7.7 0.8-9 4.5l-33.8 100.7l23.5 0.2" class="style7"/><path d="M284.2 57.6l-3.4-1.1L243.9 44l1.1-3.4L282 53.1l3.4 1.1l0 0c1.8 0.6 3.2 1.9 4.1 3.6l20.1 40.4 c0.8 1.7 1 3.6 0.4 5.4l-1.1 3.4l-14.7 43.7l-72.8-22.4L243.9 44" class="style1"/><path d="M284.2 57.6c0.9 0.3 1.6 0.9 2 1.8l20.1 40.4c0.4 0.8 0.5 1.8 0.2 2.7l-1.1 3.4l-14.8 44.2" class="style1"/><polygon points="298,149.9 327.9,61 331.2,62.1 301.8,149.9" class="style1"/><rect x="251.4" y="48.5" transform="matrix(-0.9481 -0.3181 0.3181 -0.9481 549.6526 190.3421)" width="77.9" height="3.5" class="style1"/><path d="M34.6 148.6L7.8 52.5c-1-3.6 1.1-7.4 4.8-8.5l52.9-14.8l14 24.6l28.3-0.8l26.1 92.1c0.3 1.2 0.3 2.5 0 3.7" class="style8"/><path d="M34.7 148.6L7.8 52.5c-1-3.6 1.1-7.4 4.8-8.5l52.9-14.8l14 24.6l28.3-0.8l22.2 79.3c1 3.6-1.1 7.4-4.8 8.5 l-30 8.4L34.7 148.6z" class="style8"/><path d="M108.7 56.4c-0.2-0.9-0.8-1.6-1.6-2.1L69 32.9c-0.8-0.4-1.7-0.6-2.6-0.3l-3.3 0.9l8.3 29.7 c1 3.6 4.8 5.8 8.4 4.8l29.8-8.3L108.7 56.4z" class="style9"/><path d="M107.7 53.1c-0.2-0.9-0.8-1.6-1.6-2.1L68.1 29.6c-0.8-0.4-1.7-0.6-2.6-0.3l-3.3 0.9L70.5 60 c1 3.6 4.8 5.8 8.4 4.8l29.8-8.3L107.7 53.1z" class="style10"/><rect x="70.3" y="81.2" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 187.2416 140.1444)" width="27.5" height="3.4" class="style11"/><rect x="73.3" y="93" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 182.8755 164.2738)" width="13.7" height="3.4" class="style11"/><path d="M48.1 94.7l1.8 6.6l-6.6 1.8l-1.8-6.6L48.1 94.7 M50.5 90.5l-13.2 3.7l3.7 13.2l13.2-3.7L50.5 90.5 L50.5 90.5z" class="style11"/><rect x="55.4" y="87.5" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 147.6184 168.4369)" width="13.7" height="13.7" class="style12"/><rect x="75.8" y="101" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 203.4694 177.5845)" width="27.5" height="3.4" class="style11"/><rect x="78.9" y="112.8" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 199.1033 201.7139)" width="13.7" height="3.4" class="style11"/><path d="M70.2 109.9l1.8 6.6l-6.6 1.8l-1.8-6.6L70.2 109.9 M72.6 105.7l-13.2 3.7l3.7 13.2l13.2-3.7L72.6 105.7 L72.6 105.7z" class="style11"/><rect x="44.4" y="111.9" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 132.6461 219.4003)" width="13.7" height="13.7" class="style12"/><rect x="81.4" y="120.9" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 219.6973 215.0247)" width="27.5" height="3.4" class="style11"/><rect x="84.4" y="132.6" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 215.3312 239.1541)" width="13.7" height="3.4" class="style11"/><path d="M59.2 134.4L61 141l-6.6 1.8l-1.8-6.6L59.2 134.4 M61.6 130.2l-13.2 3.7l3.7 13.2l13.2-3.7L61.6 130.2 L61.6 130.2z" class="style11"/><rect x="66.5" y="127.1" transform="matrix(-0.9631 0.2693 -0.2693 -0.9631 180.0741 243.3172)" width="13.7" height="13.7" class="style12"/><path d="M204.3 148.8c-1.2-1.8-1.6-4.1-0.9-6.3l31.5-94c1.2-3.7 5.3-5.7 9-4.5l40.3 13.5l-2.3 29.1l24.6 15.7 l-15.6 46.5L204.3 148.8z" class="style13"/><path d="M305.4 105.8c0.3-0.9 0.2-1.9-0.2-2.7l-20.1-40.4c-0.4-0.8-1.2-1.5-2-1.8l-3.4-1.1L269.6 90 c-1.2 3.7 0.8 7.7 4.4 9l30.2 10.1L305.4 105.8z" class="style14"/><path d="M306.5 102.4c0.3-0.9 0.2-1.9-0.2-2.7l-20.1-40.4c-0.4-0.8-1.2-1.5-2-1.8l-3.4-1.1l-10.1 30.2 c-1.2 3.7 0.8 7.7 4.4 9l30.2 10.1L306.5 102.4z" class="style15"/><polygon points="236.6,149.9 224.7,145.9 225.8,142.6 246.6,149.5" class="style16"/><rect x="227.5" y="139.2" transform="matrix(-0.9481 -0.3181 0.3181 -0.9481 439.7422 353.6832)" width="42.5" height="3.5" class="style16"/><rect x="230.9" y="129.1" transform="matrix(-0.9481 -0.3181 0.3181 -0.9481 449.5309 335.1336)" width="42.5" height="3.5" class="style16"/><rect x="255.8" y="117.8" transform="matrix(-0.335 0.9422 -0.9422 -0.335 463.9652 -88.3811)" width="14.8" height="3.5" class="style17"/><rect x="262.5" y="121.3" transform="matrix(-0.335 0.9422 -0.9422 -0.335 474.4636 -88.7902)" width="12" height="3.5" class="style18"/><rect x="266.9" y="120.7" transform="matrix(-0.335 0.9422 -0.9422 -0.335 482.6978 -95.7853)" width="16.4" height="3.5" class="style19"/><rect x="243.3" y="62.3" transform="matrix(-0.9481 -0.3181 0.3181 -0.9481 474.3842 205.6144)" width="21.3" height="3.5" class="style16"/><rect x="241.4" y="67.3" transform="matrix(-0.9481 -0.3181 0.3181 -0.9481 457.831 212.994)" width="9.9" height="3.5" class="style16"/><path d="M249.7 96.6c-1-0.4-2-0.6-3.1-0.6c-3.6 0-6.7 2.2-8 5.3l8 3.4L249.7 96.6z" class="style17"/><path d="M238.6 101.3c-0.5 1.1-0.7 2.2-0.7 3.4c0 3.7 2.3 6.9 5.6 8.1l3.1-8.2L238.6 101.3z" class="style19"/><path d="M246.6 104.7l7.7-4.1c-1-1.9-2.7-3.4-4.7-4.1L246.6 104.7L246.6 104.7z" class="style18"/><path d="M249.6 112.9l-2.9-8.2l0 0l-3.1 8.2c1 0.4 2 0.6 3.1 0.6C247.7 113.5 248.6 113.3 249.6 112.9z" class="style20"/><path d="M249.6 112.9c3.4-1.2 5.8-4.4 5.8-8.2c0-1.5-0.4-2.8-1-4.1l-7.7 4.1L249.6 112.9z" class="style21"/></g><g><g><g><line x1="18.1" y1="148.8" x2="321.3" y2="148.8" class="style1"/><path d="M321.3 151H18.1c-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2h303.1c1.2 0 2.2 1 2.2 2.2S322.5 151 321.3 151z" class="style22"/></g></g><g><g><g><circle cx="169.7" cy="148.8" r="31.8" class="style1"/></g><g><path d="M169.7 182.8c-18.7 0-34-15.3-34-34c0-18.7 15.3-34 34-34s34 15.3 34 34 C203.7 167.5 188.5 182.8 169.7 182.8z M169.7 119.2c-16.3 0-29.6 13.3-29.6 29.6c0 16.3 13.3 29.6 29.6 29.6 s29.6-13.3 29.6-29.6C199.3 132.5 186 119.2 169.7 119.2z" class="style22"/></g></g></g><g><g><g><line x1="153.2" y1="148.8" x2="186.2" y2="148.8" class="style1"/><path d="M186.2 151h-33c-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2h33c1.2 0 2.2 1 2.2 2.2S187.4 151 186.2 151z" class="style22"/></g></g><g><g><line x1="169.7" y1="132.3" x2="169.7" y2="165.3" class="style1"/><path d="M169.7 167.5c-1.2 0-2.2-1-2.2-2.2v-33c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v33 C171.9 166.5 170.9 167.5 169.7 167.5z" class="style22"/></g></g></g></g></svg>'},"2lxm":function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return c}));var r=s("D57K"),i=s("Llzl"),n=s("pjml"),a=s("aHpC"),o=s("IbyE"),d=s("9OUN");const l="ultra.service.gradable-item-user-option",c="gradableItemUserOptionService";let u=class{constructor(e,t,s){this.$rootScope=e,this.$q=t,this.$ngRedux=s,this.subscribeToRedux()}subscribeToRedux(){const e=this.$ngRedux.connect(null,(e=>Object(d.b)({persistGradableItemUserOption:o.X.gradableItemUserOption.persistGradableItemUserOption,deleteGradableItemUserOption:o.X.gradableItemUserOption.deleteGradableItemUserOption,fetchGradableItemUserOption:o.X.gradableItemUserOption.fetchGradableItemUserOption,fetchGradableItemUserOptionCount:o.X.gradableItemUserOption.fetchGradableItemUserOptionCount,fetchGradableItemUserOptionExceptions:o.X.gradableItemUserOption.fetchGradableItemUserOptionExceptions},e)))(this);this.$rootScope.$on("$destroy",e)}updateGradableItemUserOption(e,t){return this.$q.when(this.persistGradableItemUserOption(e,t)).then((e=>e.item))}removeGradableItemUserOption(e){return this.$q.when(this.deleteGradableItemUserOption(e)).then((e=>e))}getGradableItemUserOption(e,t,s){const r={courseId:e,columnId:t},i={membershipIds:s};return this.$q.resolve(this.fetchGradableItemUserOption(r,i))}getGradableItemUserOptionExceptions(e,t,s,r){const i={courseId:e,membershipId:t},n={columnId:s,isExcludedFromCourseUserActivity:r};return this.$q.resolve(this.fetchGradableItemUserOptionExceptions(i,n))}getGradableItemUserOptionCount(e,t){const s={courseId:e,columnId:t};return this.$q.resolve(this.fetchGradableItemUserOptionCount(s,{}))}getGradableItemUserOptionByMembershipId(e,t){return o.gc.gradableItemUserOption.getGradableItemUserOptionByColumnAndMembershipId(this.$ngRedux.getState(),e,t)}getGradableItemUserOptionByUserId(e,t,s){var r;const i=null===(r=o.gc.courseMembership.getCourseMembershipsByUserIds(this.$ngRedux.getState(),t,[s])[0])||void 0===r?void 0:r.id;return o.gc.gradableItemUserOption.getGradableItemUserOptionByColumnAndMembershipId(this.$ngRedux.getState(),e,i)}};u=Object(r.a)([Object(r.c)(0,Object(a.b)("$rootScope")),Object(r.c)(1,Object(a.b)("$q")),Object(r.c)(2,Object(a.b)("$ngRedux"))],u);i.module(l,[n.N]).service(c,u)},"8MYS":function(e,t,s){"use strict";var r=s("D57K"),i=(s("xoIb"),s("6BRP"),s("XSys"),s("nsO7")),n=s("Llzl"),a=s("d8yC"),o=s("wgY5"),d=s("z6Q5"),l=s("0JpG"),c=s("vhkR"),u=s("jhBu"),m=s("IWgv"),p=s("8qja"),h=s("Fvsw"),b=s("dJ97"),g=s("ap1t"),v=s("Sa5G"),S=s("f4B+"),y=s("o5Lu"),f=s("P2dS"),G=s("pjml"),I=s("8jzW"),x=s("TnpK"),A=s("x8kk"),C=s("fYJU"),O=s("nsX6"),L=s("1ZbL"),D=s("/5AG");const w="ultra.directives.grade.courseStudentProgress",E={Class:D.w,attributes:["analyticsId"],bindingNames:["userId","courseId"],renderLocalized:!0,withProvider:!0};n.module(w,[l.moduleName]).component("bbCourseStudentProgress",Object(L.a)(E));var T=s("ZQFV");const U="ultra.components.services.grade.courseGradeStudent.studentTabs",N={Class:T.N,attributes:["analyticsId"],bindingNames:["value","onChange"],renderLocalized:!0,withProvider:!0};angular.module(U,[]).component("bbUiStudentTabs",Object(L.a)(N));var k=s("AGiu"),M=s("2lxm"),P=s("zisU");const j="ultra.components.directives.bb-individual-student-info",R={Class:T.v,bindingNames:["user","membership"],withProvider:!0,renderLocalized:!0};n.module(j,[l.moduleName]).component("individualStudentGradesInfo",Object(L.a)(R));var $=s("aHpC"),z=s("IbyE"),F=s("zGdY"),B=s("nmzr"),V=s("nYZ0"),_=s("R4kC"),q=s("gkef"),H=s("hFzC"),K=s("kmeh"),W=s("yC9S"),X=s("pqmn"),Z=s("uFkY"),Y=s("1rh6"),J=s("wylW"),Q=s("Qbdf"),ee=s("X455"),te=s("yYax"),se=s("2VX+"),re=s("fnL1"),ie=s("oi1r");s.d(t,"a",(function(){return ne}));const ne="ultra.directives.grade.courseGradesStudent",ae="components.directives.grade.course-grades-student.statusColumn.instructor.anonymous",oe="components.directives.grade.course-grades-student.statusColumn.instructor.completed",de="components.directives.grade.course-grades-student.statusColumn.instructor.noSubmission",le="components.directives.grade.course-grades-student.statusColumn.draftSaved",ce="components.directives.grade.course-grades-student.statusColumn.instructor.reconcile",ue="components.directives.grade.course-grades-student.statusColumn.instructor.needsPost",me="components.directives.grade.course-grades-student.statusColumn.instructor.needsGrading",pe="components.directives.grade.course-grades-student.statusColumn.student.pastDue",he="components.directives.grade.course-grades-student.statusColumn.student.graded",be="components.directives.grade.course-grades-student.statusColumn.student.notSubmitted",ge="components.directives.grade.course-grades-student.statusColumn.student.unopened",ve="components.directives.grade.course-grades-student.statusColumn.student.submitted";var Se,ye;!function(e){e[e.GRADING=1]="GRADING",e[e.RECONCILE=2]="RECONCILE",e[e.POSTING=3]="POSTING",e[e.DRAFT_SAVED=4]="DRAFT_SAVED",e[e.NO_SUBMISSION=5]="NO_SUBMISSION",e[e.COMPLETED=6]="COMPLETED",e[e.ANONYMOUS=7]="ANONYMOUS",e[e.OTHER=8]="OTHER"}(Se||(Se={})),function(e){e[e.PAST_DUE=1]="PAST_DUE",e[e.UNOPENED=2]="UNOPENED",e[e.NOT_SUBMITTED=3]="NOT_SUBMITTED",e[e.DRAFT_SAVED=4]="DRAFT_SAVED",e[e.SUBMITTED=5]="SUBMITTED",e[e.GRADED=6]="GRADED",e[e.OTHER=7]="OTHER"}(ye||(ye={}));let fe=class{constructor(e,t,s,r,n,a,o,d,l,c,u,m,p,h,b,g,v,S,f,G,I,x,C){this.scope=e,this.attrs=t,this.$q=s,this.$modal=r,this.$ngRedux=n,this.grade=a,this.categoryService=o,this.context=d,this.scoreProviderHelper=l,this.batchApi=c,this.bbLocalize=u,this.ltiService=m,this.ultraState=p,this.contextUser=h,this.userModel=b,this.contentService=g,this.windowSizeService=v,this.submissionList=S,this.gradableItemUserOptionService=f,this.entitlementService=G,this.currentCourseService=I,this.currentCourseMembershipService=x,this.schemaService=C,this.gradesLoaded=!1,this.emptyGradesIllustration=Y,this.isExemptEnabled=!1,this.scaleTypeValueMap=new Map,this.itemDescriptionLabelMap={},this.currentTabId=T.M.Grades,this.resolveCurrentUser=e=>e||this.currentUser?!this.currentUser||e&&this.currentUser.id!==e?this.userModel.$new(e).$fetch().$asPromise().then((e=>(this.currentUser=e,e))):this.$q.when(this.currentUser):(this.currentUser=this.contextUser.userModel,this.$q.when(this.currentUser)),this.init=()=>this.resolveCurrentUser(this.scope.$eval(this.attrs.userId)).then((e=>{const t=this.isUserStudent;return this.$q.all([this.grade.loadCurrentColumnsAndGrades(null,null,t,z.Q.Scorm,e.id),this.categoryService.getOrLoadCategoriesForCourse(this.currentCourseService.course.id),this.currentCourseService.course.isToolAvailable("bb-attendance")])})).then((e=>{const t=this.filterVisibleColumns(e[0]),s=e[1];this.setGrades(t,s);const r=this.isUserStudent?this.targetMembership.id:this.ultraState.params.membershipId,i=this.userGrades.map((e=>{var t;return null===(t=e.column)||void 0===t?void 0:t.id})).filter((e=>!!e));return this.gradableItemUserOptionService.getGradableItemUserOptionExceptions(this.ultraState.params.courseId,r,i).then((()=>{this.userGrades.forEach((e=>{const t=this.gradableItemUserOptionService.getGradableItemUserOptionByMembershipId(e.column.id,r);(null==t?void 0:t.dueDateExceptionType)===F.qb.Unlimited?e.column.dueDate=void 0:(null==t?void 0:t.effectiveDueDate)&&(e.column.dueDate=t.effectiveDueDate),this.schemaService.loadGradeSchema(e.column).then((t=>{this.scaleTypeValueMap.set(e.column.id,t.scaleType)}))})),this.gradesLoaded=!0})),this.hasGrades=this.userGrades.length>0,this.isAttendanceEnabled=e[2],this.populateLabelMaps(t)})).then((()=>{this.filterColumnName(),this.canViewProgress()&&this.broadcastCurrentTab()})),this.canViewProgress=()=>{var e;return!!(null===(e=this.courseProgressConfiguration)||void 0===e?void 0:e.progressTrackingEnabled)&&this.entitlementService.isEntitled(D.s.ViewProgressInformation)},this.changeTab=e=>{this.currentTabId=e,this.ultraState.search("studentTabId",e),this.broadcastCurrentTab()},this.broadcastCurrentTab=()=>{const e=this.currentUser?this.getShortFormatUsername(this.currentUser):void 0;this.scope.$root.$broadcast(J.b,this.currentTabId,e)},this.init(),this.isUserStudent="true"===this.attrs.isUserStudent,this.emptyGradesText=this.bbLocalize.translateSync({key:"components.directives.grade.course-grades-grader.empty.header",locale:this.bbLocalize.getLocale(this.scope)}),this.scope.$on("bb-assessment-attempt-save",((e,t,s,r=!1)=>{const n=i.findIndex(this.userGrades,(e=>e.column.id===s)),a=this.userGrades[n].column;this.init().then((()=>{this.currentCourseService.course.gradebook.columns.$new(a.id).grades.$fetch({userId:this.currentUser.id}).$then((e=>{const s=e[0];t?(r?s.ui.groupAttempt=s.ui.attempt=t:s.ui.attempt=t,s.column=a,this.userGrades[n]=s):(s.column=a,this.grade.loadAttempt(s,this.currentCourseService.course).then((e=>{this.userGrades[n]=e})))}),(e=>{console.error(e.$response.data.message),e.$response.status=null}))}))})),this.scope.$on(A.c,(()=>{this.init()})),Object(Z.d)(this.scope,((e,t,s)=>{var r;for(let e=0;e<this.userGrades.length;e++){const i=null===(r=this.userGrades[e].attempts)||void 0===r?void 0:r.find((e=>e.id===s.id));if(i){i.feedbackToUser=t;break}}})),this.scope.$on(Z.a,((e,t,s,r,i)=>{for(let e=0;e<this.userGrades.length;e++)if(this.userGrades[e].id===i.id){this.userGrades[e].instructorFeedback=i.instructorFeedback;break}})),W.b.OnRootScope(this.scope,y.c,(()=>{this.init()})),W.b.OnRootScope(this.scope,y.a,(()=>{this.init()})),this.courseId=this.ultraState.params.courseId,this.connectToRedux(),this.loadCourseProgressConfiguration(this.courseId),this.ultraState.params.studentTabId===T.M.Progress&&(this.currentTabId=T.M.Progress),this.isUserStudent?this.targetMembership=this.currentCourseMembershipService.courseMembership:this.submissionList.fetchMembership(this.currentCourseService.course,this.ultraState.params.membershipId).then((e=>{this.targetMembership=e}))}filterColumnName(){this.userGrades.forEach((e=>{e.column.localizedColumnName&&(e.column.localizedColumnName.languageKey=S.a.HTML(e.column.localizedColumnName.languageKey))}))}filterVisibleColumns(e){return e.filter((e=>e.column.visibleInBook))}sort(e){let t=i.remove(e,(e=>null!=e.column.dueDate)),s=i.remove(e,(e=>F.p.NonCalculated!==e.column.calculationType)),r=e;return t=t.sort(((e,t)=>e.column.dueDate.getTime()-t.column.dueDate.getTime())),s=s.sort(((e,t)=>e.column.columnName.localeCompare(t.column.columnName))),r=r.sort(((e,t)=>e.column.columnName.localeCompare(t.column.columnName))),t.concat(r).concat(s)}setGrades(e,t){var s;this.externalGrade=i.remove(e,(e=>e.column.externalGrade))[0];const r=null===(s=this.externalGrade)||void 0===s?void 0:s.displayGrade;if(void 0!==(null==r?void 0:r.score)&&(r.perfCode||r.grade||r.requiresSchemaKnowledgeToDisplay?(this.externalGrade.manualScore=a.b(this.externalGrade.displayGrade.score,2),this.externalGrade.displayGrade.score=this.externalGrade.manualScore):(this.externalGrade.manualScore=parseFloat(this.externalGrade.displayGrade.score.toFixed(2)),this.externalGrade.displayGrade.score=this.externalGrade.manualScore)),this.externalGrade){const e=this.externalGrade.column.calculatedFormula,t=Object(T.W)(e);this.isRunningTotal=t.running}e.forEach((e=>{for(let s=0;s<t.length;s++){const r=t[s];if(r.id===e.column.gradebookCategoryId){e.column.categoryTitle=r.title;break}}})),this.userGrades=e}populateLabelMaps(e){const t=this.bbLocalize.loadBundle("components/directives/grade/course-grades-student"),s=[],r=i.filter(e,(e=>e.hasAttempts()&&e.column.seemsAttemptBased()&&!e.column.isDiscussion()));return r.length>0&&this.batchApi.performBatch((()=>{r.forEach((e=>{const t=e.column.grades.$buildRaw(e).attempts.$fetch().$asPromise().then((t=>{e.attempts=t}));s.push(t)}))})),s.push(t),this.$q.all(s).then((()=>{e.forEach((e=>{const t=e.column.id;this.itemDescriptionLabelMap[t]=this.getItemDescriptionLabel(e)}))}))}isActionable(e){return this.isUserStudent?this.isActionableForStudent(e):this.isActionableForInstructor(e)}isActionableForStudent(e){return!e.column.restricted&&(e.column.seemsAttemptBased()||e.column.isOffline()||this.isAttendanceEnabled&&e.column.isAttendance())}isActionableForInstructor(e){if(!this.isActionableForStudent(e))return!1;if(!e.column.delegatedGrading)return!0;return e.column.isUserReconciler(this.contextUser.userId)||e.isSubmitted()}launchLti(e){this.ltiService.ltiLaunch({courseId:e.column.courseId,contentId:e.column.contentId,linkType:v.g.parse(e.column.scoreProviderHandle.toString()),linkRefId:e.column.linkId,gradeDetail:e})}showAnonymouslyGradedItemErrorModal(){this.$modal.open({template:K,scope:this.scope})}showEllipsisMenu(e){var t;return!this.isUserStudent&&this.isActionable(e)&&!(null===(t=e.column)||void 0===t?void 0:t.isAttendance())}getOverflowMenuItemsExempt(e){return[{icon:"exempt",labelKey:"components.directives.grade.course-grades-student.exemption.exemption",show:()=>!e.anonymousGrading&&this.isUserReconciler(e),onClick:()=>this.openEditPerGradableItemExemptionPanel(e.courseId,e.id),additionalAttributes:{analyticsIdOverride:"components.directives.grade.studentGrade.overflowMenu.exemption.link"}}]}isUserReconciler(e){return!e.delegatedGrading||e.isUserReconciler(this.contextUser.userId)}openEditPerGradableItemExemptionPanel(e,t){const s={courseId:e,columnId:t,userId:this.currentUser.id};this.ultraState.goPeekState("per-gradable-item-settings",s)}getShortFormatUsername(e){return this.bbLocalize.formatUsernameSync(e,l.ILocaleUsernameFormat.Short,this.scope,{noWrap:!0})}showOverallGradeTooltip(){var e,t;return this.isUserStudent&&null!==(t=null===(e=this.externalGrade)||void 0===e?void 0:e.column.isVisibleToStudents())&&void 0!==t&&t}openItem(e){const t=e.column.scoreProviderHandle;if(!t||this.scoreProviderHelper.supportsOverall(t))if(this.scoreProviderHelper.supportsExternalEdit(t))this.launchLti(e);else{const t=e.column;t.seemsAttemptBased()||t.isAttendance()?this.goToCurrentUserViewStateRef(e):this.ultraState.goPeekState(B.x.GRADE_AND_FEEDBACK,{courseId:t.courseId,columnId:t.id,userId:this.currentUser.id})}}goToCurrentUserViewStateRef(e){const t=e.column;return this.isUserStudent?this.$q.when(this.gotoStudentViewStateRef({columnId:t.id,courseId:t.courseId,contentId:t.contentId},e)):this.goToInstructorViewStateRef(e)}gotoStudentViewStateRef(e,t){t.column.isCollectExternalSubmissions()&&(t.ui.attempt?(e.state=B.c.ASSESSMENT_ATTEMPT_REVIEW,e.attemptId=t.ui.attempt.groupAttemptId?t.ui.attempt.groupAttemptId:t.ui.attempt.id,e.skipTransitionEvents=!0):e.state=B.c.ASSESSMENT_EXTERNAL_OVERVIEW),this.scoreProviderHelper.studentViewStateRef(t.column.scoreProviderHandle,e,I.a.GoToState)}attachContentToGrade(e){var t,s,r,i,n;if(!(null===(t=null==e?void 0:e.column)||void 0===t?void 0:t.contentId)||(null===(r=null===(s=null==e?void 0:e.column)||void 0===s?void 0:s.ui)||void 0===r?void 0:r.content))return this.$q.when();const a=this.contentService.findRootNode(this.context.course.model,X.a.ROOT).findInTreeById(null===(i=null==e?void 0:e.column)||void 0===i?void 0:i.contentId);return a?(e.column.ui.content=a,this.$q.when()):this.currentCourseService.course.contents.$find(null===(n=null==e?void 0:e.column)||void 0===n?void 0:n.contentId).$asPromise().then((t=>{e.column.ui.content=t}),(t=>{var s;console.error(`Unable to load course content for ${null===(s=null==e?void 0:e.column)||void 0===s?void 0:s.contentId}`,t)}))}goToInstructorViewStateRef(e){if(e.column.anonymousGrading)return this.showAnonymouslyGradedItemErrorModal();const t=this.ultraState.params.membershipId;return this.resolveCurrentUser().then((()=>e.column.isAttendance()?null:this.$q.all([Object(z.yb)({contentId:e.column.contentId,courseId:this.currentCourseService.course.id,expand:"memberships"}),this.attachContentToGrade(e)]))).then((s=>{var r;const n=null==s?void 0:s[0],{column:a,attempts:o}=e,d=null==n?void 0:n.groups,l={columnId:a.id,contentId:a.contentId,courseId:this.currentCourseService.course.id,gradeId:e.id,userId:this.currentUser.id,membershipId:t},c=a.isDiscussion();c&&(l.participantId=this.currentUser.id);const u=o.length>a.multipleAttempts;if(a.isSingleAttempt()&&!u&&(l.attemptId=e.lastAttemptId),!i.isEmpty(d)){const e=null===(r=Object.keys(d).map((e=>d[e].memberships)).reduce(((e,t)=>e.concat(t)),[]).find((e=>e.userId===this.currentUser.id)))||void 0===r?void 0:r.groupId;l.groupId=e,c&&(l.disGroupId=e)}return a.isAttendance()&&(l.memberId=e.memberId,l.isSingleUserView=!0),this.scoreProviderHelper.gradingStateRef(a,e,l,I.a.GoToState)}))}getCourseName(){return this.currentCourseService.course.displayName}isCurrentUserGrader(){return this.contextUser.userModel.memberships.every((e=>e.role===F.V.Grader))}getStatusKey(e){return e.isExempt?"-":this.isUserStudent?this.getStudentStatusKey(e):this.getInstructorStatusKey(e)}getStudentStatusKey(e){var t;if(e.column.seemsAttemptBased()){if(e.isPastDueZero())return pe;if(F.Eb.IsPosted===e.manualStatus)return he;if(!e.hasAttempts())return e.column.isCollectExternalSubmissions()?be:ge;if(F.l.InProgress===e.ui.attempt.status)return le;let s=e.ui.attempt;if(y.k(e.column.aggregationModel)){const r=null===(t=e.attempts)||void 0===t?void 0:t.getFirstAttempt();r&&(s=r)}return F.l.NeedsGrading===s.status?ve:he}}getInstructorStatusKey(e){var t,s;if(e.column.seemsAttemptBased()){if(e.column.anonymousGrading)return ae;if(F.Eb.IsPosted===e.manualStatus&&!e.isPastDueZero())return oe;if(!e.hasAttempts())return de;if(F.l.InProgress===e.ui.attempt.status)return le;let r=e.ui.attempt,i=(null===(t=e.attempts)||void 0===t?void 0:t.getNumAttemptsToReconcile())>0;if(y.k(e.column.aggregationModel)){const t=null===(s=e.attempts)||void 0===s?void 0:s.getFirstAttempt();t&&(r=t,i=!t.isCompleted())}else y.l(e.column.aggregationModel)&&(i=!r.isCompleted());return i&&e.column.isUserReconciler(this.contextUser.userId)?ce:e.isReadyToPost()?ue:F.l.NeedsGrading===r.status?me:oe}}getItemDescriptionLabel(e){const t=this.isLate(e);if(e.column.isCollectExternalSubmissions())return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.externalSubmissionLate":"components.directives.grade.course-grades-student.itemDescription.externalSubmission",noWrap:!0});if(e.column.isDiscussion()){const s=this.firstParticipationDate(e);return s?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.discussions.firstParticipationLate":"components.directives.grade.course-grades-student.itemDescription.discussions.firstParticipation",params:{date:s},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.discussions.noParticipationLate":"components.directives.grade.course-grades-student.itemDescription.discussions.noParticipation"})}if(e.column.seemsAttemptBased())if(e.column.isSingleAttempt()){if(t)return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.course-grades-student.itemDescription.single.late",noWrap:!0})}else{if(e.column.isUnlimitedAttempts()){const s=e.attempts.length,r=e.attempts.getNumAttemptsSubmittedLate(e.column.dueDate);return e.hasAttempts()?F.l.InProgress===e.ui.attempt.status?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.unlimited.draftSavedLate":"components.directives.grade.course-grades-student.itemDescription.unlimited.draftSaved",params:{currentAttemptNumber:s,numberOfAttemptsSubmittedLate:r},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.unlimited.submittedLate":"components.directives.grade.course-grades-student.itemDescription.unlimited.submitted",params:{currentAttemptNumber:s,numberOfAttemptsSubmittedLate:r},noWrap:!0}):this.scoreProviderHelper.supportsExternalEdit(e.column.scoreProviderHandle)?"":this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.unlimited.unopenedLate":"components.directives.grade.course-grades-student.itemDescription.unlimited.unopened",noWrap:!0})}if(e.column.isMultipleAttempts()){const s=e.column.multipleAttempts,r=e.attempts.getNumAttemptsSubmitted(),i=e.attempts.getNumAttemptsSubmittedLate(e.column.dueDate);if(!e.hasAttempts())return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.multiple.unopenedLate":"components.directives.grade.course-grades-student.itemDescription.multiple.unopened",params:{numberOfAttemptsPossible:s},noWrap:!0});if(F.l.InProgress===e.ui.attempt.status){const s=e.column.multipleAttempts-e.attemptsLeft;return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.multiple.draftSavedLate":"components.directives.grade.course-grades-student.itemDescription.multiple.draftSaved",params:{currentAttemptNumber:s,numberOfAttemptsSubmittedLate:i},noWrap:!0})}return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t?"components.directives.grade.course-grades-student.itemDescription.multiple.submittedLate":"components.directives.grade.course-grades-student.itemDescription.multiple.submitted",params:{numberOfAttemptsSubmitted:r,numberOfAttemptsSubmittedLate:i},noWrap:!0})}}return""}isAttemptInProgress(e){var t;return e.column.isAttemptBased&&!!(null===(t=e.ui.attempt)||void 0===t?void 0:t.isInProgress())}isAttemptSubmittableAfterDueDate(e){return!e.column.lateAttemptCreationDisallowed()||this.isAttemptInProgress(e)}showAlertTooltip(e){const t=e.isPastDueZero()&&0===e.attempts.getNumAttemptsSubmitted()&&this.isUserStudent&&!e.isExempt;return e.column.isDiscussion()?t&&!e.column.enforceDueDate:t}isLate(e){var t,s;if(e.isExempt)return!1;const r=this.gradableItemUserOptionService.getGradableItemUserOptionByMembershipId(e.column.id,this.targetMembership.id),i=null!==(t=null==r?void 0:r.effectiveDueDate)&&void 0!==t?t:e.column.dueDate;if((null==r?void 0:r.dueDateExceptionType)===F.qb.Unlimited)return!1;if(!(null===(s=this.targetMembership)||void 0===s?void 0:s.isDueDateExcepted())){const t=o(this.context.getServerTime());if(e.column.seemsAttemptBased()&&!e.column.isDiscussion())return!e.hasAttempts()&&t.isAfter(i)||e.hasAttempts()&&o(e.ui.attempt.attemptDate).isAfter(i);if(e.column.isDiscussion()){const s=this.firstParticipationDate(e);return!s&&t.isAfter(i)||s&&o(s).isAfter(i)}}return!1}firstParticipationDate(e){return e.column.isDiscussion()&&e.ui&&e.ui.attempt&&e.ui.attempt.attemptDate||null}disableRubricEvalClick(e){return!e.column.isJournal()}connectToRedux(){const e=this.$ngRedux.connect((e=>({courseProgressConfiguration:z.gc.courseProgress.getCourseProgressConfiguration(e,this.courseId),gradebookGrades:z.gc.gradebookGrade.getGradebookGradesByUserId(e,this.ultraState.params.userId)})),(e=>({loadCourseProgressConfiguration:t=>e(z.X.courseProgress.loadCourseProgressConfiguration({courseId:t}))})))((({gradebookGrades:e,courseProgressConfiguration:t},{loadCourseProgressConfiguration:s})=>{Object.assign(this,{courseProgressConfiguration:t,loadCourseProgressConfiguration:s}),e&&this.userGrades&&this.userGrades.forEach((t=>{const s=e.find((e=>e.columnId===t.column.id));s&&t.isExempt!==s.isExempt&&(t.isExempt=s.isExempt,this.scope.$emit(y.c,{gradeId:t.id,columnId:t.column.id,userId:this.currentUser.id}))}))}));this.scope.$on("$destroy",(()=>e()))}onClickSortIcon(e){this.sortAttributes=Object(re.b)(e,this.sortAttributes),this.sortColumnByHeaderName()}sortColumnByHeaderName(){var e,t;if(this.userGrades&&this.userGrades.sort(((e,t)=>e.column.position-t.column.position)),(null===(e=this.sortAttributes)||void 0===e?void 0:e.sortType)===te.a.ASCENDING||(null===(t=this.sortAttributes)||void 0===t?void 0:t.sortType)===te.a.DESCENDING)switch(this.sortAttributes.columnName){case"item":this.sortGradeByFieldName(this.sortAttributes.sortType);break;case"dueDate":this.sortGradeByDueDate(this.sortAttributes.sortType);break;case"status":this.sortGradeByStatus(this.sortAttributes.sortType);break;case"grade":this.sortGradeItemsByGradeValue(this.sortAttributes.sortType);break;case"feedback":this.sortGradeByFeedback(this.sortAttributes.sortType)}}sortGradeByFieldName(e){this.userGrades.sort(((t,s)=>e===te.a.ASCENDING?t.column.columnName.localeCompare(s.column.columnName):s.column.columnName.localeCompare(t.column.columnName)))}sortGradeByDueDate(e){const t=[],s=[],r=[];this.userGrades.forEach((e=>{e.column.isAttendance()?t.push(e):e.column.dueDate?r.push(e):s.push(e)})),e===te.a.ASCENDING?(r.sort(((e,t)=>e.column.dueDate.getTime()-t.column.dueDate.getTime())),this.userGrades=r.concat(t,s)):(r.sort(((e,t)=>t.column.dueDate.getTime()-e.column.dueDate.getTime())),this.userGrades=s.concat(t,r))}sortGradeItemsByGradeValue(e){const t=[],s=[],r=[],i=[],n=[],a=[],o=[],d=[],l=[],c=[],u=[];this.userGrades.forEach((e=>{var m,p;void 0===(null===(m=e.displayGrade)||void 0===m?void 0:m.score)?(null===(p=e.displayGrade)||void 0===p?void 0:p.grade)?u.push(e):this.isUserStudent&&this.shouldShowPendingForGrade(e)?l.push(e):this.checkForRubric(e)?this.splitUngradedItemBasedOnScaleType(e,n,o,d,a):this.splitUngradedItemBasedOnScaleType(e,t,r,i,s):c.push(e)})),c.sort(((e,t)=>{const s=this.getGradeScoreDividedPyPointsPossible(e),r=this.getGradeScoreDividedPyPointsPossible(t);return this.sortAttributes.sortType===te.a.ASCENDING?s-r:r-s})),e===te.a.ASCENDING?this.userGrades=t.concat(r,i,s,n,o,d,a,l,c,u):this.userGrades=u.concat(c,l,a,d,o,n,s,i,r,t)}checkForRubric(e){var t,s;return!!e.column.hasRubricAssociation()&&(!(!e.column.isDiscussion()&&!e.column.isJournal())||!(!e.column.isSingleAttempt()||F.l.InProgress===(null===(s=null===(t=null==e?void 0:e.ui)||void 0===t?void 0:t.attempt)||void 0===s?void 0:s.status)))}splitUngradedItemBasedOnScaleType(e,t,s,r,i){const n=this.scaleTypeValueMap.get(e.column.id);e.isExempt?t.push(e):n===F.ac.Tabular?s.push(e):n===F.ac.Percent?r.push(e):i.push(e)}shouldShowPendingForGrade(e){return!e.isPosted()&&e.hasAttempts()}getGradeScoreDividedPyPointsPossible(e){var t,s,r;return(null===(t=e.displayGrade)||void 0===t?void 0:t.requiresSchemaKnowledgeToDisplay)?(null===(s=e.displayGrade)||void 0===s?void 0:s.score)/100:(null===(r=e.displayGrade)||void 0===r?void 0:r.score)/e.pointsPossible}sortGradeByFeedback(e){const t=[],s=[];this.userGrades.forEach((e=>{e.hasInstructorComments()?t.push(e):s.push(e)})),e===te.a.ASCENDING?this.userGrades=s.concat(t):this.userGrades=t.concat(s)}sortGradeByStatus(e){this.isUserStudent?this.userGrades.sort(((t,s)=>{const r=this.getStatusPriorityForStudent(t),i=this.getStatusPriorityForStudent(s);return e===te.a.ASCENDING?r-i:i-r})):this.userGrades.sort(((t,s)=>{const r=this.getStatusPriority(t),i=this.getStatusPriority(s);return e===te.a.ASCENDING?r===Se.RECONCILE&&i===Se.RECONCILE?t.attempts.getNumAttemptsToReconcile()-s.attempts.getNumAttemptsToReconcile():r===Se.POSTING&&i===Se.POSTING?t.attempts.getNumAttemptsToPost()-s.attempts.getNumAttemptsToPost():r-i:r===Se.RECONCILE&&i===Se.RECONCILE?s.attempts.getNumAttemptsToReconcile()-t.attempts.getNumAttemptsToReconcile():r===Se.POSTING&&i===Se.POSTING?s.attempts.getNumAttemptsToPost()-t.attempts.getNumAttemptsToPost():i-r}))}getStatusPriority(e){switch(this.getStatusKey(e)){case me:return Se.GRADING;case ce:return Se.RECONCILE;case ue:return Se.POSTING;case le:return Se.DRAFT_SAVED;case de:return Se.NO_SUBMISSION;case oe:return Se.COMPLETED;case ae:return Se.ANONYMOUS;default:return Se.OTHER}}getStatusPriorityForStudent(e){switch(this.getStatusKey(e)){case pe:return ye.PAST_DUE;case ge:return ye.UNOPENED;case be:return ye.NOT_SUBMITTED;case le:return ye.DRAFT_SAVED;case ve:return ye.SUBMITTED;case he:return ye.GRADED;default:return ye.OTHER}}getSortTypeValue(e){return Object(re.a)(e,this.sortAttributes)}getAriaLabelString(e){var t;return(null===(t=this.sortAttributes)||void 0===t?void 0:t.sortType)&&this.sortAttributes.columnName===e?"components.directives.grade.course-grades-student.aria-label."+e+"."+this.sortAttributes.sortType:"components.directives.grade.course-grades-student.aria-label."+e+".none"}};fe=Object(r.a)([Object(r.c)(0,Object($.b)("scope")),Object(r.c)(1,Object($.b)("attrs")),Object(r.c)(2,Object($.b)("$q")),Object(r.c)(3,Object($.b)("$modal")),Object(r.c)(4,Object($.b)("$ngRedux")),Object(r.c)(5,Object($.b)(y.n)),Object(r.c)(6,Object($.b)(f.c)),Object(r.c)(7,Object($.b)(h.b)),Object(r.c)(8,Object($.b)(I.c)),Object(r.c)(9,Object($.b)(d.b)),Object(r.c)(10,Object($.b)(l.serviceName)),Object(r.c)(11,Object($.b)(c.b)),Object(r.c)(12,Object($.b)(x.d)),Object(r.c)(13,Object($.b)(C.b)),Object(r.c)(14,Object($.b)(G.Jb.serviceName)),Object(r.c)(15,Object($.b)(V.f)),Object(r.c)(16,Object($.b)(q.b)),Object(r.c)(17,Object($.b)(_.b)),Object(r.c)(18,Object($.b)(M.b)),Object(r.c)(19,Object($.b)(u.b)),Object(r.c)(20,Object($.b)(Q.e)),Object(r.c)(21,Object($.b)(ee.d)),Object(r.c)(22,Object($.b)(ie.b))],fe);class Ge{constructor(e){this.$injector=e,this.restrict="E",this.template=H,this.link=(e,t,s)=>{e.courseGradesStudent=this.$injector.instantiate(fe,{scope:e,attrs:s})}}}Ge.$inject=["$injector"],n.module(ne,[m.a,h.a,b.a,g.a,y.m,G.N,I.b,l.moduleName,c.a,x.b,q.a,V.d,_.a,p.a,M.a,O.a,P.a,w,U,j,k.a,Q.b,ee.a,se.a]).directive("bbCourseGradesStudent",["$injector",e=>e.instantiate(Ge)])},"8qja":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s("zYa8"),i=s("jmdd");const n="ultra.components.directives.bbUiIcon.small.TimeExtra";Object(r.a)(i.a,n,"bbUiIconSmallTimeExtra")},AGiu:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s("AuQm"),i=s("Llzl"),n=s("1ZbL");const a="ultra.components.directives.information-illustration",o={Class:r.A,bindingNames:["illustration","prominentText","subText"],withErrorModalBoundary:!1};i.module(a,[]).component("bbUiInformationIllustration",Object(n.a)(o))},R4kC:function(e,t,s){"use strict";s.d(t,"a",(function(){return m})),s.d(t,"b",(function(){return p}));var r=s("D57K"),i=s("nsO7"),n=s("Llzl"),a=s("pjml"),o=s("aHpC"),d=s("jhBu"),l=s("o5Lu"),c=s("Sa5G"),u=s("IbyE");const m="ultra.services.submissionList",p="submissionList",h=["courseCardColorIndex","id","isAvailable","dueDateExceptionType","timeLimitExceptionType","role","courseRole","user.id","user.userName","user.avatar","user.familyName","user.givenName","user.lastModifiedAt","userHasHidden","userId","isPreviewStudent","user.otherName","user.preferredDisplayName"].join(),b=["isPreviewStudent(asc)","user.familyName(asc)","user.givenName(asc)"].join();let g=class{constructor(e,t,s,r,i,n){this.$rootScope=e,this.$q=t,this.CourseModel=s,this.gradeService=r,this.entitlementService=i,this.$ngRedux=n,this.loadAssignedGroupAndGroupRows=(e,t,s)=>this.CourseModel.$new(e.Column.courseId).contents.$find(e.Column.contentId,{expand:"assignedGroups"}).$asPromise().then((r=>{var i,n,a;const o=null===(i=null==r?void 0:r.assignedGroups)||void 0===i?void 0:i.find((t=>t.groupId===e.group.id));return this.gradeService.loadGroupRows(this.CourseModel.$new(t),[o],s,e.Column,null===(a=null===(n=e.Column.ui)||void 0===n?void 0:n.content)||void 0===a?void 0:a.isSafeAssignEnabled())})),this.listeners=new Map,this.subscribeToRedux()}subscribeToRedux(){this.$ngRedux.connect(null,(e=>({loadMembership:(t,s)=>e(u.X.courseMembership.loadCourseMembershipByMemberId(t,s))})))(this)}setSubmissionList(e,t,s,r){this.submissionList&&this.submissionList.courseId===e&&this.submissionList.columnId===t||(this.submissionList=Object.create(null)),this.submissionList.courseId=e,this.submissionList.columnId=t,this.submissionList.memberships=s,this.submissionList.rows=r||[],this.submissionList.canViewGroups=this.entitlementService.areAllEntitled([c.o.ViewGroups,c.f.ViewAsDesigner],e)}getListeners(e,t){const s=`${e}|${t}`;return this.listeners.has(s)||this.listeners.set(s,new Set),this.listeners.get(s)}notifyRowsListeners(){if(!this.submissionList)return;this.getListeners(this.submissionList.courseId,this.submissionList.columnId).forEach((e=>{null==e||e()}))}addOnRowsUpdated(e,t,s){return this.getListeners(e,t).add(s),()=>{this.removeOnRowsUpdated(e,t,s)}}loadRowsListeners(){if(!this.submissionList)return;this.getListeners(this.submissionList.courseId,this.submissionList.columnId).forEach((e=>e()))}removeOnRowsUpdated(e,t,s){this.getListeners(e,t).delete(s)}refreshAttempts(e,t,s){var r,i,n,a,o,d,l,c;if(e!==(null===(r=this.submissionList)||void 0===r?void 0:r.courseId)||t!==(null===(i=this.submissionList)||void 0===i?void 0:i.columnId))return this.$q.when();let u;return"attemptId"in s?u=null===(a=null===(n=this.submissionList)||void 0===n?void 0:n.rows)||void 0===a?void 0:a.find((e=>{var t,r;return null===(r=null===(t=e.grade)||void 0===t?void 0:t.attempts)||void 0===r?void 0:r.some((e=>(null==e?void 0:e.id)===s.attemptId))})):"userId"in s?u=null===(d=null===(o=this.submissionList)||void 0===o?void 0:o.rows)||void 0===d?void 0:d.find((e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.id)===s.userId})):"groupId"in s&&(u=null===(c=null===(l=this.submissionList)||void 0===l?void 0:l.rows)||void 0===c?void 0:c.find((e=>{var t;return(null===(t=e.group)||void 0===t?void 0:t.id)===s.groupId}))),u?this.loadAttempt(e,u).then((e=>{if(1!==(null==e?void 0:e.length))return;const t=e[0];u.grade=t.grade,u.attemptCount=t.attemptCount,u.lastAttemptDate=t.lastAttemptDate,u.attemptsReadyToPost=t.attemptsReadyToPost,this.notifyRowsListeners()})):this.$q.when()}loadAttempt(e,t){var s;return(null===(s=t.group)||void 0===s?void 0:s.id)?this.loadGroupAttempt(e,t):this.loadIndividualAttempt(t)}loadGroupAttempt(e,t){var s,r,i,n,a,o;if(!this.submissionList.canViewGroups)return this.$q.when();const d=null===(i=null===(r=null===(s=t.Column.ui)||void 0===s?void 0:s.content)||void 0===r?void 0:r.assignedGroups)||void 0===i?void 0:i.find((e=>e.groupId===t.group.id)),l=null===(n=t.group)||void 0===n?void 0:n.memberships.map((e=>this.submissionList.memberships.find((t=>t.userId===e.userId)))).filter((e=>!!e));return d?this.gradeService.loadGroupRows(this.CourseModel.$new(e),[d],l,t.Column,null===(o=null===(a=t.Column.ui)||void 0===a?void 0:a.content)||void 0===o?void 0:o.isSafeAssignEnabled()):this.loadAssignedGroupAndGroupRows(t,e,l)}loadIndividualAttempt(e){var t,s;return this.gradeService.loadCustomizedBulkViewRows([e.membership],e.Column,null,null,null===(s=null===(t=e.Column.ui)||void 0===t?void 0:t.content)||void 0===s?void 0:s.isSafeAssignEnabled())}sortSubmissionList(e){e&&e.sort(((e,t)=>this.getBucketNum(e)-this.getBucketNum(t)||(e.group?e.group.title.localeCompare(t.group.title):this.sortByGivenNamesForSimilarFamilyNames(e,t))))}getBucketNum(e){return e.RowStatus.valueOf()}sortByGivenNamesForSimilarFamilyNames(e,t){return e.user.familyName===t.user.familyName?e.user.givenName.localeCompare(t.user.givenName):e.user.familyName.localeCompare(t.user.familyName)}fetchMemberships(e,t){const s=i.merge({fields:h,roleBucket:"taking",sort:b},t);return e.memberships.$refresh(s).$asPromise()}fetchMembership(e,t){return this.$q.resolve(this.loadMembership(e.id,t).then((t=>{const s=e.memberships.$build(t);return this.$rootScope.$emit(`course-${e.id}-memberships-after-fetch`,[s]),s})))}};g=Object(r.a)([Object(r.c)(0,Object(o.b)("$rootScope")),Object(r.c)(1,Object(o.b)("$q")),Object(r.c)(2,Object(o.b)(a.m.serviceName)),Object(r.c)(3,Object(o.b)(l.n)),Object(r.c)(4,Object(o.b)(d.b)),Object(r.c)(5,Object(o.b)("$ngRedux"))],g);n.module(m,[d.a,l.m]).service(p,g)},X8JP:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return o}));var r=s("Vsv2"),i=s("pjml"),n=s("0JpG");const a="ultraUi.components.services.cloudDrive.rteCloudStorageIntegrationModal",o="RteCloudStorageIntegrationService";class d{constructor(e,t,s,r){this.$q=e,this.cloudDriveService=t,this.CloudDriveModel=s,this.bbLocalize=r}initialize(){return this.cloudDriveService.isCloudServiceAvailable().then((e=>this.isCloudServiceAvailable=e))}openFilePicker(e){const t=this.bbLocalize.getLocale(e);return this.cloudDriveService.cloudDriveStorage.openFilePicker(t,!0).then((e=>{if(e){const t=[];return e.forEach((s=>{const r=(e=>e.account+"|"+e.id)(s),i=this.CloudDriveModel.$new("CloudStorageIntegration").contents.$new(r).$fetch({accessToken:e[0].bearer_token.key}).$asPromise();t.push(i)})),this.$q.all(t).then((t=>t.map((t=>({id:t.id,cloudStorageIntegrationAccessToken:e[0].bearer_token.key,name:t.name,size:t.size,type:t.type,updatedTime:t.updatedTime,webLocation:t.webLocation})))))}return this.$q.reject()}))}getModalCallback(e){return()=>this.cloudDriveService.cloudDriveStorage?this.openFilePicker(e):this.cloudDriveService.initializeCloudDrive().then((()=>this.openFilePicker(e)))}}d.$inject=["$q",r.b,i.h.serviceName,n.serviceName],angular.module(a,[r.a]).service(o,d)},XSys:function(e,t,s){var r=s("ziER"),i=s("5JeM"),n=new r({id:"icon-small-accommodations",use:"icon-small-accommodations-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-accommodations"><path d="M2 1h12v14l-6-2-6 2V1zM5 4h6M5 7h6M5 10h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(n);e.exports=n},hFzC:function(e,t){e.exports='<div class="spinner bb-secondary-color-2" ng-if="!courseGradesStudent.gradesLoaded" aria-hidden="true"></div>\n\n<div class="base-grades course-grades-instructor" bb-load-bundle="components/directives/grade/course-grades-student" ng-if="courseGradesStudent.gradesLoaded">\n  \x3c!-- A student specific message when no grades are available yet --\x3e\n  <div class="is-empty-page" ng-if="courseGradesStudent.isUserStudent && !(courseGradesStudent.hasGrades || courseGradesStudent.externalGrade)">\n    <div class="is-empty-wrapper js-course-skip-link-target" tabindex="-1">\n      <div class="is-empty-explanation">\n        <img src="./static/images/ftue/ftuMMicon_StudentNoGrades.png" alt=""/>\n        <h1 bb-translate>components.directives.grade.course-grades-student.emptyCourseGradesHeader</h1>\n        <p bb-translate>components.directives.grade.course-grades-student.emptyCourseGradesContent</p>\n      </div>\n    </div>\n  </div>\n\n  <div class="grades-list" ng-if="!courseGradesStudent.isUserStudent || (courseGradesStudent.isUserStudent && (courseGradesStudent.hasGrades || courseGradesStudent.externalGrade))">\n    <aside role="complementary" class="student-grade-overview {{courseGradesStudent.targetMembership.getCourseColorClass()}}">\n      <div ng-if="::courseGradesStudent.isUserStudent" class="student-grade__header">\n        <div class="student-grade__header__name" ng-class="{\'show-for-large-up\': isUserStudent}">\n          <div class="element-card">\n            <bb-avatar user="courseGradesStudent.currentUser" class="left"></bb-avatar>\n            <div class="element-details left">\n              <bb-username class="name ellipse" user="courseGradesStudent.currentUser" show-pronouns="true" show-pronunciation="true"></bb-username>\n            </div>\n          </div>\n        </div>\n        <div class="student-grade__header__overallGrade overall-grade-running-total-wrapper">\n          <div class="overall-grade-running-total-wrapper__overall-label"\n               ng-if="!!courseGradesStudent.externalGrade && !courseGradesStudent.windowSizeService.isSmallBreakpoint()"\n               id="overall-grade-heading"\n               bb-translate>\n            components.directives.grade.course-grades-student.grade.currentGrade\n          </div>\n          <div bb-feature-toggle="feature.gradebook.calculate.running.total.or.not" delay-initial-load="false" class="overall-tooltip">\n            <button ng-if="courseGradesStudent.isRunningTotal && courseGradesStudent.showOverallGradeTooltip()"\n              bb-tooltip enhanced-tooltip="true" tooltip-position="top" tooltip-center-content="true"\n              tooltip-enable-on-mouse-over-for-all-breakpoints="true" tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n              analytics-id="components.directives.grade.studentGrade.pastDueZero.tooltip.button"\n              bb-translate-attrs="{\n                \'title\': \'components.directives.grade.course-grades-student.grade.tooltip.gradedPointsDescription\',\n                \'aria-label\': \'components.directives.grade.course-grades-student.grade.tooltip.ariaLabel\',\n              }">\n              <bb-ui-icon-small-attention></bb-ui-icon-small-attention>\n            </button>\n            <button ng-if="!courseGradesStudent.isRunningTotal && courseGradesStudent.showOverallGradeTooltip()"\n              bb-tooltip enhanced-tooltip="true" tooltip-position="top" tooltip-center-content="true"\n              tooltip-enable-on-mouse-over-for-all-breakpoints="true" tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n              analytics-id="components.directives.grade.studentGrade.pastDueZero.tooltip.button"\n              bb-translate-attrs="{\n                \'title\': \'components.directives.grade.course-grades-student.grade.tooltip.possiblePointsDescription\',\n                \'aria-label\': \'components.directives.grade.course-grades-student.grade.tooltip.ariaLabel\',\n              }">\n              <bb-ui-icon-small-attention></bb-ui-icon-small-attention>\n            </button>\n          </div>\n          <div class="right" ng-if="!!courseGradesStudent.externalGrade" bb-guidance-target component-key="components.directives.grade.course-grades-student.grade.ftue">\n            <div>\n              <a\n                bb-peek-sref="overall-grade-student({courseName: \'{{courseGradesStudent.getCourseName()}}\'})"\n                tabbable="true"\n                class="no-underline js-overall-grade-link"\n                aria-describedby="overall-grade-heading"\n                analytics-id="components.directives.grade.studentGrade.externalGrade.link">\n                <bb-display-grade-pill class="final-grade" cursor="pointer" column="courseGradesStudent.externalGrade.column" grade="courseGradesStudent.externalGrade" disable-rubric-eval-click="courseGradesStudent.disableRubricEvalClick()"></bb-display-grade-pill>\n              </a>\n              <bb-guidance alwaysShow="true" component-key="components.directives.grade.course-grades-student.grade.ftue"\n                           class="guidance-element-overlay push-right overall-grade-ftue">\n                <span bb-translate>components.directives.grade.course-grades-student.grade.ftue</span>\n              </bb-guidance>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div ng-if="::!courseGradesStudent.isUserStudent">\n        <individual-student-grades-info\n          user="courseGradesStudent.currentUser"\n          membership="courseGradesStudent.targetMembership"\n        >\n        </individual-student-grades-info>\n      </div>\n    </aside>\n\n    <bb-ui-student-tabs\n      ng-if="courseGradesStudent.canViewProgress()"\n      on-change="courseGradesStudent.changeTab"\n      value="courseGradesStudent.currentTabId"\n    ></bb-ui-student-tabs>\n\n    <div\n      ng-show="courseGradesStudent.currentTabId === \'grades\'"\n      id="student-tab-panel-grades"\n      role="tabpanel"\n      aria-labelledby="student-tab-grades"\n    >\n        <div class="row tabular-list-header course-grades-column-headers js-course-skip-link-target">\n          <div class="columns small-8 medium-4 tabular-list-header-offset text-left sorting-header-column" analytics-id="components.directives.grade.course-grades-student.nameSort" ng-click="courseGradesStudent.onClickSortIcon(\'item\')"\n               role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesStudent.getAriaLabelString(\'item\')}}\'}" tabindex="0">\n            <span bb-translate>components.directives.grade.course-grades-student.headings.assignment-name</span>\n            <bb-arrow-sort-indicator sortable="true" sort="courseGradesStudent.getSortTypeValue(\'item\')" class="sort-icon" />\n          </div>\n          <div class="columns hide-for-small-only medium-2 sorting-header-column" analytics-id="components.directives.grade.course-grades-student.dueDateSort" ng-click="courseGradesStudent.onClickSortIcon(\'dueDate\')"\n               role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesStudent.getAriaLabelString(\'dueDate\')}}\'}" tabindex="0">\n            <span bb-translate>components.directives.grade.course-grades-student.headings.due-date</span>\n            <bb-arrow-sort-indicator sortable="true" sort="courseGradesStudent.getSortTypeValue(\'dueDate\')" class="sort-icon" />\n          </div>\n          <div class="columns hide-for-small-only medium-2 sorting-header-column" analytics-id="components.directives.grade.course-grades-student.statusSort" ng-click="courseGradesStudent.onClickSortIcon(\'status\')"\n               role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesStudent.getAriaLabelString(\'status\')}}\'}" tabindex="0">\n            <span bb-translate>components.directives.grade.course-grades-student.headings.status</span>\n            <bb-arrow-sort-indicator sortable="true" sort="courseGradesStudent.getSortTypeValue(\'status\')" class="sort-icon" />\n          </div>\n          <div class="columns medium-4 large-2 sorting-header-column" analytics-id="components.directives.grade.course-grades-student.gradeStatus" ng-click="courseGradesStudent.onClickSortIcon(\'grade\')"\n               role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesStudent.getAriaLabelString(\'grade\')}}\'}" tabindex="0">\n            <span bb-translate>components.directives.grade.course-grades-student.headings.grade</span>\n            <bb-arrow-sort-indicator sortable="true" sort="courseGradesStudent.getSortTypeValue(\'grade\')" class="sort-icon" />\n          </div>\n          <div class="columns hide-for-small-only medium-2 sorting-header-column" analytics-id="components.directives.grade.course-grades-student.feedback" ng-click="courseGradesStudent.onClickSortIcon(\'feedback\')"\n               role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesStudent.getAriaLabelString(\'feedback\')}}\'}" tabindex="0">\n            <span bb-translate>components.directives.grade.course-grades-student.headings.feedback</span>\n            <bb-arrow-sort-indicator sortable="true" sort="courseGradesStudent.getSortTypeValue(\'feedback\')" class="sort-icon" />\n          </div>\n          <div class="columns small-1 medium-1"></div>\n      </div>\n\n      <div class="row tabular-row js-row"\n        ng-class="{\'is-restricted-without-slash restricted-for-students\': grade.column.restricted, \'last-tabular-row-container\': $last}"\n        ng-repeat="grade in courseGradesStudent.userGrades"\n        ng-attr-bb-click-to-invoke-child="{{courseGradesStudent.isActionable(grade) && \'a.bb-click-target\' || undefined}}"\n        element-id="{{::\'grade-row_\' + courseGradesStudent.currentUser.id + grade.column.id}}">\n        \x3c!--item name--\x3e\n        <div class="columns medium-4" ng-class="{\'is-restricted-without-slash\': grade.column.restricted, \'is-restricted\': !courseGradesStudent.isUserStudent && grade.column.isHidden()}">\n          <div class="element-card">\n            <div class="js-content-icon element-image" bb-content-item-icon content-column="grade.column" show-alert-icon="courseGradesStudent.isLate(grade)"></div>\n            <div class="element-details">\n              <div class="name ellipsis student-grades__exception">\n                <a\n                  ng-if="courseGradesStudent.isActionable(grade)"\n                  class="bb-click-target"\n                  ng-click="courseGradesStudent.openItem(grade)"\n                  href="javascript:void(0);"\n                  tabindex="0"\n                  analytics-id="components.directives.grade.studentGrade.details.link">{{grade.column.columnName}}</a>\n                <span ng-if="!courseGradesStudent.isActionable(grade)">{{grade.column.columnName}}</span>\n                <span bb-translate ng-if="!courseGradesStudent.isActionable(grade) && !grade.column.isCalculated()">\n                  components.directives.grade.course-grades-student.disabledContent</span>\n              </div>\n              \x3c!--item description label--\x3e\n              <div class="name-controls" ng-if="courseGradesStudent.itemDescriptionLabelMap[grade.column.id]">\n                <span class="js-item-description-label wrap-text" ng-class="{\'text-alert-ax\': courseGradesStudent.isLate(grade)}">\n                  {{courseGradesStudent.itemDescriptionLabelMap[grade.column.id]}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!--due date--\x3e\n        <div class="js-due-date date columns hide-for-small-only medium-2" ng-class="{late: courseGradesStudent.isLate(grade)}">\n          <div class="js-bb-student-assessment-duedate">\n            <bb-date ng-if="!grade.column.isAttendance()" format="Short">grade.column.dueDate</bb-date>\n            <span ng-if="grade.column.isAttendance()" bb-translate>components.directives.grade.course-grades-student.dueDate.ongoing</span>\n          </div>\n        </div>\n        \x3c!--status column--\x3e\n        <div class="js-status-column columns hide-for-small-only medium-2">\n          <div class="js-bb-student-status-column">\n            <span class="js-status-label"\n                  bb-translate\n                  translate-values="{gradeCount: grade.attempts.getNumAttemptsToReconcile() || 0,\n                  postCount: grade.attempts.getNumAttemptsToPost() || 1\n                  }"\n                  ng-class="{\'alert\': grade.isPastDueZero() && courseGradesStudent.isUserStudent}"\n            >{{courseGradesStudent.getStatusKey(grade)}}</span>\n          </div>\n        </div>\n        \x3c!--grade--\x3e\n        <div class="columns medium-4 large-2 grade-value">\n          <bb-display-grade-pill column="grade.column" grade="grade"\n                                 cursor="{courseGradesStudent.isActionable(grade) ? \'pointer\' : \'default\'}"\n                                 disable-rubric-eval-click="!courseGradesStudent.isActionable(grade) || courseGradesStudent.disableRubricEvalClick(grade)"></bb-display-grade-pill>\n          <button\n            class="alert-icon-wrapper"\n            ng-if="courseGradesStudent.showAlertTooltip(grade)"\n            bb-tooltip\n            enhanced-tooltip="true"\n            tooltip-position="top"\n            tooltip-center-content="true"\n            tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n            tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n            bb-translate-attrs="{\n              \'title\': !courseGradesStudent.isAttemptSubmittableAfterDueDate(grade) ?\n                \'components.directives.grade.course-grades-student.grade.noNewAttempts.pastDueZeroTooltip\' :\n                \'components.directives.grade.course-grades-student.grade.pastDueZeroTooltip\',\n              \'aria-label\': \'components.directives.grade.course-grades-student.grade.pastDueZeroIcon\'\n              }"\n            analytics-id="components.directives.grade.studentGrade.pastDueZero.tooltip.button"\n          >\n            <bb-svg-icon icon="attention" size="small" status="alert"></bb-svg-icon>\n          </button>\n        </div>\n        \x3c!--feedback indicator--\x3e\n        <div class="columns hide-for-small-only medium-2">\n          <div class="js-instructor-comments feedback-comment">\n            \x3c!--non interactive indicator that the instructor has left comments for this item (if attempt based, the latest attempt)--\x3e\n            <bb-svg-icon ng-if="grade.hasInstructorComments()" size="medium" icon="feedback" status="active"></bb-svg-icon>\n            <span class="sr-only" bb-translate ng-if="grade.hasInstructorComments()">components.directives.grade.course-grades-student.comment.aria-label</span>\n          </div>\n        </div>\n        \x3c!--Three dots overflow menu--\x3e\n        <div class="columns small-12 medium-1 per-assessment">\n          <div bb-feature-toggle="feature.gradebook.exempt.gradable.item" bb-foundation-defer class="per-assessment">\n            <bb-overflow-menu\n              ng-if="courseGradesStudent.showEllipsisMenu(grade)"\n              element-id="{{::\'context-menu-open-button\' + grade.column.id}}"\n              element-name="{{::grade.column.columnName}}"\n              menu-items="::courseGradesStudent.getOverflowMenuItemsExempt(grade.column)"\n              analytics-id-tag-prefix="components.directives.grade.studentGrade.overflowMenu.exemption">\n            </bb-overflow-menu>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- An instructor specific message when no grades are available yet --\x3e\n      <div\n        ng-if="!courseGradesStudent.isUserStudent && courseGradesStudent.userGrades.length === 0"\n        class="grade-empty-container"\n      >\n        <bb-ui-information-illustration\n          illustration="courseGradesStudent.emptyGradesIllustration"\n          prominent-text="courseGradesStudent.emptyGradesText"\n        />\n      </div>\n    </div>\n\n    <div\n      id="student-tab-panel-progress"\n      role="tabpanel"\n      aria-labelledby="student-tab-progress"\n      ng-if="courseGradesStudent.currentTabId === \'progress\' && courseGradesStudent.currentUser.id"\n    >\n    <bb-course-student-progress\n      course-id="courseGradesStudent.courseId"\n      user-id="courseGradesStudent.currentUser.id"\n      analytics-id="course.student.progress"\n    ></bb-course-student-progress>\n  </div>\n  </div>\n</div>\n'},kmeh:function(e,t){e.exports='<bb-modal id="anonymously-graded-item-error-modal" class="notification"\n          modal-title-key="components.directives.grade.course-grades-student.modal.anonymouslyGradedItemError.title"\n          analytics-id-tag-prefix="components.directives.grade.studentGrade.anonymouslyGradedItemError">\n  <div name="modal-contents">\n    <p bb-translate="components.directives.grade.course-grades-student.modal.anonymouslyGradedItemError.body"></p>\n  </div>\n  <button name="modal-footer-button-primary"\n          class="button confirm-ok js-primary-button"\n          ng-click="$parent.$close()"\n          bb-translate\n          course-org-token-resolver\n          analytics-id="components.directives.grade.studentGrade.anonymouslyGradedItemErrorModal.close.button">\n    global.close\n  </button>\n</bb-modal>\n'},zisU:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s("zYa8"),i=s("7NIW");const n="ultra.components.directives.bbUiIcon.small.Attention";Object(r.a)(i.a,n,"bbUiIconSmallAttention")}}]);