(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{"8XnW":function(e,t,s){var n=s("ziER"),i=s("5JeM"),a=new n({id:"icon-small-grade",use:"icon-small-grade-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-grade"><path d="M12.5 10l.5613 1.7275h1.8163l-1.4694 1.0676.5613 1.7274L12.5 13.4549l-1.4695 1.0676.5613-1.7274-1.4694-1.0676h1.8163L12.5 10z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M14 7V4l-3-3H2v14h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M11 4V1l3 3h-3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(a);e.exports=a},H0q3:function(e,t,s){"use strict";s.r(t);s("GkCm"),s("ZKRZ"),s("yCl+");var n=s("Llzl"),i=s("D57K"),a=(s("Aw+3"),s("KXuk"),s("8XnW"),s("nsO7")),o=s("Fvsw"),r=s("NxQJ"),c=s("fYJU"),l=s("0JpG"),u=s("YHe3"),m=s("TnpK"),d=s("VdDF"),p=s("+O05"),b=s("IbyE"),h=s("zGdY"),v=s("Y+9S"),g=s("5RJJ"),A=s("5uPl"),w=s("9hUw"),R=s("IjED"),S=s("aHpC"),C=s("e0uO"),f=s("+4Px");const k="ultra.features.course.content.assessment.attempt.review.controller";let O=class{constructor(e,t,s,n,i,a,o,r,c,l,u,m,d,b,h,v,g,A,w){this.$scope=e,this.$injector=t,this.$q=s,this.$sce=n,this.$stateParams=i,this.$window=a,this.$element=o,this._attempt=r,this.course=c,this.contentData=l,this.context=u,this.bbLocalize=m,this.membershipService=d,this.originalityReportService=b,this.proctoring=h,this.slideoutPanelService=v,this.ultraState=g,this.contextUser=A,this.peerService=w,this.AssessmentCanvasMode=C.a,this.attemptIndex=0,this.isLoading=!0,this.userCourseAvailabilities={},this.isSecureBrowserRequiredToReview=!1,this.isCalloutActive=!1,this.hasQuestionWithFeedback=!1,this.hasAutoGradedQuestion=!1,this.hasGradedQuestion=!1,this.correctAnswersNotYetVisible=!1,this.questionFeedbackNotYetVisible=!1,this.questionScoresNotYetVisible=!1,this.disableRubricAction=()=>!this.slideoutPanelService.isRubricState()&&this.isSlidePanelOpen()||this.sliderNavigationIsActive(),u.userHasGradebookModificationEntitlement().then((t=>{t?this.ultraState.goPeekState("course.outline",{courseId:this.course.id}):(this.originalityReportService.setCourseContent(l.courseContent,!1),e.assessmentAttemptReview=this,this.content=l.courseContent,this.column=l.gradingColumn,this.peerService.getOrCreatePeerContentWithAttemptsFromContent(this.content).then((e=>{this.peerReviewContentObject=e})),this.gradeDetail=l.gradeDetail,this.isGradeExempt=l.gradeDetail.isExempt,this.user=A.userModel,this.hasDueDateAccommodation=this.contentData.courseContent.hasDueDateException(),this.isExternalSubmissions=p.a.isExternalSubmissionsAssessment(l.courseContent),this.isExternalSubmissions&&(this.questions=p.a.getQuestionsForAttempt(this._attempt,this.column.scoreProviderHandle)),this.isSecureBrowserRequiredToReview=l.courseContent.isSecureBrowserRequiredToReview(),this.isSecureBrowserRequiredToReview&&(this.secureReviewButtonText=this.proctoring.getProctoringReviewButtonText(l.courseContent.getProctoringServiceVendor()),this.secureReviewDownload=this.$sce.trustAsHtml(this.bbLocalize.translateSync({key:this.proctoring.getProctoringReviewDownloadText(l.courseContent.getProctoringServiceVendor()),params:{downloadUrl:l.courseContent.getProctoringDownloadUrl()},locale:this.bbLocalize.getLocale(this.$scope),noWrap:!0,noEscape:!0}))),this.loadAndSetupAttempts(this._attempt),null==l.gradingColumn.rubricAssociations&&l.gradingColumn.$fetch({expand:"associatedRubrics"}).$asPromise().then((e=>{l.gradingColumn.rubricAssociations=e.rubricAssociations})),this.content.isGroupContent&&this.getGroupMembersInfo(),i.peekStateToOpen&&g.goPeekState(i.peekStateToOpen,i),e.$on("$stateChangeSuccess",(()=>{this.slideoutPanelService.setSlideoutPanelState()})),e.$on("$destroy",(()=>{this.originalityReportService.clearReport(),this.originalityReportService.clearCourseContent()})))})),this.notifyMobileApp()}notifyMobileApp(){const e={type:v.c.AttemptReviewOpened,status:v.b.Success,contentId:this.contentData.courseContent.id,contentTitle:this.contentData.courseContent.title};Object(v.r)(e)}isSlidePanelOpen(){return this.slideoutPanelService.isOpen()}isGradePosted(){return this.gradeDetail.isPosted()}getResolvedAttempt(){return this._attempt}getGroupMembersInfo(){this.course.groups.$find(this.content.assignedGroups[0].groupId).$then((e=>{this.currentGroup=e,this.groupAttemptSubmittedUser=a.find(this.contentData.groupMembers,(e=>{const t=e.id===this._attempt.submittedBy;return t&&(this.groupAttemptSubmittedDate=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"course.content.assessment.overview.group.submittedSummary",params:{submittedDate:this.bbLocalize.formatDateSync(this._attempt.attemptDate,l.ILocaleDateFormat.Short,this.$scope)}})),t})),this.groupMembersListSummary=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"course.content.assessment.overview.group.groupMembers",params:{membersNum:this.contentData.groupMembers.length}})})),this.membershipService.getUserCourseAvailabilities(this.course.id).then((e=>{this.userCourseAvailabilities=e,this.groupMembers=this.contentData.groupMembers}))}showCallout(){this.isCalloutActive=!0}hideCallout(){this.isCalloutActive=!1}calloutKeyboardEvent(e){const t=e.which||e.keyCode;t===f.f||t===f.t?this.showCallout():t!==f.g&&t!==f.u||this.hideCallout(),e.stopPropagation()}showConversations(){return r.a.showConversations(this.content)}navigateSecureAttemptReview(){const e={password:null,attemptId:this.attempt.id};this.content.getProctoringLaunchLink(e).then((e=>{this.proctoring.openRespondusProctoringLaunchLink(e)}))}isPeerGrading(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerGrading}completedPeerReviews(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.completedPeerReviews}totalPeerReviews(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.numOfPeerReviewsToComplete}shouldRenderAttemptCanvas(){return(this.toolAttemptDetail||this.content.isSecureBrowserRequiredToReview())&&!this.isLoading&&!this.isExternalSubmissions&&!this.column.isScorm()}sliderNavigationIsActive(){return this.isExternalSubmissions||this.shouldRenderAttemptCanvas()}getQuestionFeedbackReleaseSettingsMessage(){return this.getReleaseSettingsMessage(h.f.InstructorFeedback)}getCorrectAnswersReleaseSettingsMessage(){return this.getReleaseSettingsMessage(h.f.CorrectAnswers)}getQuestionScoresReleaseSettingsMessage(){return this.getReleaseSettingsMessage(h.f.Score)}shouldShowQuestionFeedbackReleaseSettingsMessage(){return this.questionFeedbackNotYetVisible&&this.hasAutoGradedQuestion}shouldShowCorrectAnswersReleaseSettingsMessage(){return this.correctAnswersNotYetVisible&&this.hasAutoGradedQuestion}shouldShowQuestionScoresReleaseSettingsMessage(){return this.questionScoresNotYetVisible&&this.hasGradedQuestion}shouldShowReleaseSettingsMessagesSection(){return!this.isExternalSubmissions&&(this.shouldShowQuestionFeedbackReleaseSettingsMessage()||this.shouldShowCorrectAnswersReleaseSettingsMessage()||this.shouldShowQuestionScoresReleaseSettingsMessage())}getFeedbackSettings(){var e;const t=this.content.getDeployedAssessment();return null===(e=null==t?void 0:t.deploymentSettings)||void 0===e?void 0:e.feedbackSettings}getReleaseSettingsMessageTranslationOptions(e,t,s){const n={locale:this.bbLocalize.getLocale(this.$scope),key:`course.content.assessment.attempt.review.releaseSettingsMessage.${e}.${t}`,noWrap:!0,noEscape:!0};return s&&(n.params={specifiedDate:s}),n}getReleaseSettingsMessage(e){const{mode:t,associatedDate:s}=b.s.getFeedbackModeByOption(e,this.getFeedbackSettings());return h.e.OnSpecifiedDate===t?this.bbLocalize.translateSync(this.getReleaseSettingsMessageTranslationOptions(e,t,"string"==typeof s?d.a.parseStringToDate(s):s)):this.bbLocalize.translateSync(this.getReleaseSettingsMessageTranslationOptions(e,t))}setFeedbackFlags(e){var t,s,n,i,a,o;this.hasQuestionWithFeedback=e.some((e=>{var t,s;const n=!!(null===(t=e.questionAttempt.question.correctResponseFeedback)||void 0===t?void 0:t.rawText)&&e.questionAttempt.correct,i=!!(null===(s=e.questionAttempt.question.incorrectResponseFeedback)||void 0===s?void 0:s.rawText)&&!e.questionAttempt.correct;return n||i}));const r=this.getFeedbackSettings(),c=e[0],l=null!==(s=null===(t=null==c?void 0:c.questionAttempt)||void 0===t?void 0:t.isFeedbackVisible)&&void 0!==s&&s,u=null!==(i=null===(n=null==c?void 0:c.questionAttempt)||void 0===n?void 0:n.isScoreVisible)&&void 0!==i&&i,m=null!==(o=null===(a=null==c?void 0:c.questionAttempt)||void 0===a?void 0:a.isCorrectAnswersVisible)&&void 0!==o&&o,d=p.a.studentCanViewAttemptResults(this.attempt);this.questionFeedbackNotYetVisible=p.a.isFeedbackOptionEnabled(h.f.InstructorFeedback,r)&&!l,this.correctAnswersNotYetVisible=p.a.isFeedbackOptionEnabled(h.f.CorrectAnswers,r)&&(!d||!m),this.questionScoresNotYetVisible=p.a.isFeedbackOptionEnabled(h.f.Score,r)&&(!d||!u);const b=e.filter((e=>h.Qb.PresentationOnly!==e.questionAttempt.question.questionType));this.hasGradedQuestion=b.length>0,this.hasAutoGradedQuestion=b.some((e=>e.questionAttempt.question.isAutoGraded))}loadAndSetupAttempts(e){let t=null;t=this.content.isGroupContent?this.column.getGroupAttemptByGroupAssociationId(this.content.assignedGroups[0].groupAssociationId,!0,this.$stateParams.attemptId):e.$fetch({expand:"toolAttemptDetail,alignedGoals,viewUrl"}).$asPromise();const s=t.then((e=>{if(this.attempt=e,this.toolAttemptDetail=this.attempt.getToolAttemptDetailItem(this.column.scoreProviderHandle),this.toolAttemptDetail&&this.toolAttemptDetail.assessment&&this.toolAttemptDetail.assessment.questionCount>0){let e=this.attempt;if(this.content.isGroupContent){let t=this.gradeDetail.ui.groupAttempt;this.gradeDetail.ui.groupAttempt.groupAttemptId!==this.ultraState.params.attemptId&&(t=this._attempt);const s=t.getGradeAttempt();if(!s)return null;e=this.course.gradebook.attempts.$buildRaw(s)}return e.assessment.gradedQuestionAttempts.$fetch({expand:"questionAttempt.question,questionAttempt.answerCorrectness"}).$asPromise().then((e=>{var t,s,n;e.setPostStatusAndGroupAttemptId(this.attempt);null!==(n=null===(s=null===(t=e[0])||void 0===t?void 0:t.questionAttempt)||void 0===s?void 0:s.isResultVisible)&&void 0!==n&&n?(this.gradedQuestionAttempts=e,this.setFeedbackFlags(e)):this.gradedQuestionAttempts=null}))}}));let n=this.$q.when(this.gradeDetail.attempts);this.column.isMultipleAttempts()&&a.isEmpty(this.gradeDetail.attempts)&&(n=this.gradeDetail.attempts.$fetch({expand:"toolAttemptDetail"}).$asPromise()),this.originalityReportService.clearReport(),this.$q.all([s,n]).then((()=>{this.attemptIndex=this.gradeDetail.attempts.getAttemptIndexById(this.attempt.id)+1,this.isLoading=!1,this.originalityReportService.updateReport(this.attempt,this.gradedQuestionAttempts,this.column.id),this.column&&this.column.isScorm()&&(this.attemptDetail=this.attempt.getToolAttemptDetailItem(this.column.scoreProviderHandle))}))}};O=Object(i.a)([Object(i.c)(0,Object(S.b)("$scope")),Object(i.c)(1,Object(S.b)("$injector")),Object(i.c)(2,Object(S.b)("$q")),Object(i.c)(3,Object(S.b)("$sce")),Object(i.c)(4,Object(S.b)("$stateParams")),Object(i.c)(5,Object(S.b)("$window")),Object(i.c)(6,Object(S.b)("$element")),Object(i.c)(7,Object(S.b)("attempt")),Object(i.c)(8,Object(S.b)("currentCourse")),Object(i.c)(9,Object(S.b)("contentData")),Object(i.c)(10,Object(S.b)(o.b)),Object(i.c)(11,Object(S.b)(l.serviceName)),Object(i.c)(12,Object(S.b)(g.b)),Object(i.c)(13,Object(S.b)(A.b)),Object(i.c)(14,Object(S.b)(u.b)),Object(i.c)(15,Object(S.b)(R.b)),Object(i.c)(16,Object(S.b)(m.d)),Object(i.c)(17,Object(S.b)(c.b)),Object(i.c)(18,Object(S.b)(w.b))],O);var y=s("Xpa5"),D=s("DCSD"),$=s("TcF8"),x=s("CCbZ"),j=s("u4ux"),M=s("ftr2"),P=s("vLFQ");s.d(t,"moduleName",(function(){return F})),s.d(t,"controllerName",(function(){return L})),s.d(t,"template",(function(){return P}));const F="ultra.features.course.content.assessment.attempt.review",L=k;n.module(F,["ngSanitize",y.a,D.a,$.a,g.a,x.a,A.a,u.a,R.a,j.b,w.a,M.a]).controller(k,O)},NxQJ:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return l}));var n=s("Llzl"),i=s("pjml"),a=s("Sa5G"),o=s("fYJU");const r="ultra.components.services.courseContent.conversation";class c{constructor(e,t,s,n,i){this.currentCourse=e,this.coreContent=t,this.$q=s,this.$rootScope=n,this.contextUser=i}checkAndAddAllConversations(){const e=this.$q.defer();return this.coreContent.ui.hasConversationAttached&&!this.coreContent.attachedForumLink?(this.conversationContent=this.coreContent,this.isCourseAvailable=this.coreContent.isAvailable,this.conversationContent.forumAttacherAction=i.p.ForumAttacherAction.Add.toUpperCase(),this.conversationContent.withParams({fields:"attachedForumLink"}).$patch().$then((t=>{this.currentCourse.contents.$find(t.attachedForumLink["resource/x-bb-courselink"].courseContent).$asPromise().then((e=>this.createNewDiscussion(e))),e.resolve()}))):e.resolve(),e.promise}markAllConversationsForRemoval(){this.coreContent.ui.hasConversationAttached||this.coreContent.allowConversations||!this.coreContent.attachedForumLink||(this.coreContent.attachedForumLink=null,this.coreContent.forumAttacherAction=i.p.ForumAttacherAction.Delete.toUpperCase())}createNewDiscussion(e){const t=e.contentDetail[a.g.Discussion.handle].id,s=this.currentCourse.forums.$find(t);s.messages.$fetch().$then((n=>{if(n){const e=n.find((e=>!e.groupId));if(e)return e}return s.messages.$build({forumId:t,courseId:e.courseId,parentId:"{unset id}",userId:this.contextUser.userId,postedName:this.contextUser.userModel.userName,body:{rawText:"",displayText:""},isDeleted:!1,isAvailable:!0}).$save().$asPromise()})).$then((()=>this.initializeDiscussionStatus()))}initializeDiscussionStatus(){this.coreContent&&(this.coreContent.ui.hasConversationAttached=!0,this.coreContent.attachedForumLink&&this.currentCourse.contents.$find(this.coreContent.attachedForumLink["resource/x-bb-courselink"].courseContent).$then((e=>{const t=e.contentDetail[a.g.Discussion.handle].id;this.currentCourse.forums.$find(t).$then((e=>{e.messages.$fetch().$then((e=>{const t=e[0];t&&(t.ui.replyText="")}))}))}))),this.conversationContent.isAvailable=this.isCourseAvailable,this.conversationContent.$patch().$then((e=>{this.coreContent=e}))}static showConversations(e){return!(!e||!e.id)&&(void 0===(e.ui&&e.ui.hasConversationAttached)&&(e.ui.hasConversationAttached=null!=e.attachedForumLink),e.ui.hasConversationAttached)}}c.$inject=["currentCourse","coreContent","$q","$rootScope",o.b];class l extends c{}n.module(r,[i.N,o.a]).service("courseContentConversation",c)},bNLi:function(e,t){e.exports='<div class="banner-directive"\n     ng-if="banner.displayBanner"\n     role="{{::banner.bannerRole}}"\n     ng-class="::{\n       \'banner-directive--alert\': banner.isAlertBanner,\n       \'banner-directive--error\': banner.isErrorBanner,\n       \'banner-directive--success\': banner.isSuccessBanner\n     }">\n  <div class="banner-directive__message-container">\n    <bb-svg-icon ng-if="banner.iconName"\n                 class="icon"\n                 icon="{{::banner.iconName}}"\n                 size="small"></bb-svg-icon>\n    <bb-translate translate-values="banner.noticeKeyParams">{{banner.noticeKey}}</bb-translate>\n  </div>\n  <div class="banner-directive__button-container">\n    <button ng-if="banner.dismissible"\n            type="button"\n            class="button super-clear icon"\n            bb-translate-attrs="{\'aria-label\': \'global.close\'}"\n            ng-click="banner.dismissBanner()"\n            analytics-id="components.directives.banner.close.button">\n      <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n    </button>\n    <div ng-transclude="customActionButton"></div>\n  </div>\n</div>\n'},ftr2:function(e,t,s){"use strict";var n=s("D57K"),i=(s("67oV"),s("1NX5"),s("0JpG")),a=s("bNLi"),o=s("yC9S"),r=s("aHpC");s.d(t,"a",(function(){return c}));const c="ultra.components.directives.banner";var l;!function(e){e.Error="error",e.Success="success",e.Alert="alert",e.Information="information"}(l||(l={}));let u=class{constructor(e,t){this.$scope=e,this.localize=t,e.banner=this,this.dismissible=!!e.dismissible,this.displayBanner=!0}$onInit(){}dismissBanner(){this.displayBanner=!1}get isErrorBanner(){var e,t;return null!==(t=null===(e=this.type)||void 0===e?void 0:e.includes(l.Error))&&void 0!==t&&t}get isSuccessBanner(){var e,t;return null!==(t=null===(e=this.type)||void 0===e?void 0:e.includes(l.Success))&&void 0!==t&&t}get isAlertBanner(){var e,t;return null!==(t=null===(e=this.type)||void 0===e?void 0:e.includes(l.Alert))&&void 0!==t&&t}get bannerRole(){return this.isAlertBanner||this.isErrorBanner?"alert":"status"}};u=Object(n.a)([Object(o.a)({moduleName:c,componentName:"bbBanner",template:a,transclude:{customActionButton:"?bbCustomActionButton"},bindings:{iconName:"<?",noticeKey:"<",dismissible:"<?",noticeKeyParams:"<?",type:"@?"}}),Object(n.c)(0,Object(r.b)("$scope")),Object(n.c)(1,Object(r.b)(i.serviceName))],u)},vLFQ:function(e,t){e.exports='<div class="assessment-review-attempt-submission"\n     ng-class="{\'slide-panel-open\': assessmentAttemptReview.isSlidePanelOpen()}">\n  <div class="panel-wrap">\n    <header class="black-panel-header">\n      <div class="black-header-contents">\n        \x3c!-- htmlhint:analytics-id:disable --\x3e\n        <button class="left-off-canvas-toggle menu-toggle standard-button dark-background"\n                type="button"\n                analytics-id="components.directives.assessmentAttemptReview.menu">\n          <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n          <span class="sr-only" bb-translate>base.menu</span>\n        </button>\n        \x3c!-- htmlhint:analytics-id:enable --\x3e\n        <h1 class="panel-title">{{assessmentAttemptReview.column.effectiveColumnName}}</h1>\n        <a class="standard-button dark-background"\n           ui-sref-active="active"\n           ng-if="assessmentAttemptReview.showConversations() && assessmentAttemptReview.content.ui.hasConversationAttached && assessmentAttemptReview.content.attachedForumLink"\n           bb-peek-sref="conversations({courseId: assessmentAttemptReview.content.courseId, contentId: assessmentAttemptReview.content.id})"\n           bb-translate-attrs="{\'aria-label\':\'components.directives.header.openAria\'}"\n           analytics-id="components.directives.assessment-attempt-review.conversations.link">\n          <bb-svg-icon size="small" icon="conversation"></bb-svg-icon>\n        </a>\n      </div>\n    </header>\n    <section class="panel-content">\n      <bb-panel-header\n        show-course="true"\n        show-conversations="assessmentAttemptReview.showConversations()"\n        content="assessmentAttemptReview.content"\n        panel-title="assessmentAttemptReview.column.effectiveColumnName"\n        can-edit="false"\n        has-slider="true">\n      </bb-panel-header>\n\n      <div class="student-name-header">\n        <span class="name ellipsis" ng-if="!assessmentAttemptReview.content.isGroupContent">\n          <bb-username user="assessmentAttemptReview.user" format="short"></bb-username>\n        </span>\n        <button id="calloutGroupMembers"\n                ng-if="assessmentAttemptReview.content.isGroupContent"\n                analytics-id="components.directives.assessment-attempt-review.callout.button"\n                ng-click="assessmentAttemptReview.showCallout()"\n                ng-keydown="assessmentAttemptReview.calloutKeyboardEvent($event)"\n                ng-blur="assessmentAttemptReview.hideCallout()"\n                aria-expanded="{{assessmentAttemptReview.isCalloutActive}}"\n        >\n          <span class="group-title" bb-foundation-defer>\n            <span class="group-member-dropdown name ellipsis">\n              <bdi class="ellipse" title="{{assessmentAttemptReview.currentGroup.title}}">{{assessmentAttemptReview.currentGroup.title}}</bdi>\n              <bdi class="select-value"></bdi>\n            </span>\n          </span>\n          <div class="callout-content" role="region" tabindex="-1" ng-class="{active: assessmentAttemptReview.isCalloutActive}" aria-labelledby="calloutHeader">\n            <h2 id="calloutHeader">{{assessmentAttemptReview.groupMembersListSummary}}</h2>\n            <p>\n             <span class="userinfo-container" ng-repeat="member in assessmentAttemptReview.groupMembers">\n             <bb-avatar class="avatar-container" user="member"></bb-avatar>\n               <span class="username-container">\n                 <bb-username user="member"></bb-username>\n                 <span ng-if="member === assessmentAttemptReview.groupAttemptSubmittedUser" class="sub-text"\n                       ng-bind-html="assessmentAttemptReview.groupAttemptSubmittedDate"></span>\n               </span>\n             </span>\n            </p>\n          </div>\n        </button>\n        \x3c!--<span class="submission-count">1 Submission</span>--\x3e\n      </div>\n\n      <div class="attempt-canvas-wrapper" ng-class="::{\'grading-bar-double\': assessmentAttemptReview.column.isMultipleAttempts()}">\n        <div class="grading-bar-wrapper" ng-switch="::assessmentAttemptReview.column.isMultipleAttempts()" ng-if="!assessmentAttemptReview.isLoading">\n          \x3c!-- final score  & attempt grading bars for multiple attempt assessment --\x3e\n          <bb-grading-bar ng-switch-when="true"\n                          is-privileged="false"\n                          grade-detail="::assessmentAttemptReview.gradeDetail"\n                          column="::assessmentAttemptReview.column"\n                          course="::assessmentAttemptReview.course"\n                          has-due-date-accommodation="assessmentAttemptReview.hasDueDateAccommodation"\n                          show-override-indicator="true">\n          </bb-grading-bar>\n\n          <div ng-switch-when="true">\n            <bb-grading-bar ng-if="assessmentAttemptReview.attempt"\n                            is-privileged="false"\n                            attempt="::assessmentAttemptReview.attempt"\n                            is-grade-exempt="assessmentAttemptReview.isGradeExempt"\n                            column="::assessmentAttemptReview.column"\n                            course="::assessmentAttemptReview.course"\n                            has-due-date-accommodation="assessmentAttemptReview.hasDueDateAccommodation"\n                            attempt-index="{{::assessmentAttemptReview.attemptIndex}}"\n                            hide-grade="assessmentAttemptReview.slideoutPanelService.isRubricState() && assessmentAttemptReview.isSlidePanelOpen()"\n                            show-overflow-menu="!assessmentAttemptReview.isSlidePanelOpen()"\n                            show-comment="!assessmentAttemptReview.isSlidePanelOpen()"\n                            disable-feedback-buttons="assessmentAttemptReview.sliderNavigationIsActive()"\n                            disable-rubric-action="assessmentAttemptReview.disableRubricAction()">\n            </bb-grading-bar>\n          </div>\n\n\n          \x3c!-- grading bar for single attempt assessment --\x3e\n          <bb-grading-bar ng-switch-default\n                          is-privileged="false"\n                          attempt="::assessmentAttemptReview.attempt"\n                          grade-detail="::assessmentAttemptReview.gradeDetail"\n                          column="::assessmentAttemptReview.column"\n                          has-due-date-accommodation="assessmentAttemptReview.hasDueDateAccommodation"\n                          hide-grade="assessmentAttemptReview.slideoutPanelService.isRubricState() && assessmentAttemptReview.isSlidePanelOpen()"\n                          show-override-indicator="true"\n                          show-comment="!assessmentAttemptReview.isSlidePanelOpen()"\n                          show-overflow-menu="!assessmentAttemptReview.isSlidePanelOpen()"\n                          disable-feedback-buttons="assessmentAttemptReview.sliderNavigationIsActive()"\n                          disable-rubric-action="assessmentAttemptReview.disableRubricAction()">\n          </bb-grading-bar>\n        </div>\n\n        <div class="attempt-canvas-content" ng-if="!assessmentAttemptReview.column.isScorm()">\n          <div class="automated-feedback-banner">\n            <div ng-if="!assessmentAttemptReview.isLoading && (assessmentAttemptReview.hasQuestionWithFeedback || assessmentAttemptReview.shouldShowReleaseSettingsMessagesSection())"\n              class="message-space"\n            >\n            </div>\n            <bb-banner\n              ng-if="assessmentAttemptReview.hasQuestionWithFeedback"\n              class="banner-directive"\n              notice-key="\'course.grades.gradebook-item.hasAutomatedFeedback.notice\'"\n              icon-name="\'feedback\'"\n            >\n            </bb-banner>\n            <div ng-if="assessmentAttemptReview.shouldShowReleaseSettingsMessagesSection()">\n              <bb-banner\n                ng-if="assessmentAttemptReview.shouldShowQuestionFeedbackReleaseSettingsMessage()"\n                class="banner-directive"\n                notice-key="assessmentAttemptReview.getQuestionFeedbackReleaseSettingsMessage()"\n                icon-name="\'feedback\'"\n              >\n              </bb-banner>\n              <bb-banner\n                ng-if="assessmentAttemptReview.shouldShowCorrectAnswersReleaseSettingsMessage()"\n                class="banner-directive"\n                notice-key="assessmentAttemptReview.getCorrectAnswersReleaseSettingsMessage()"\n                icon-name="\'complete\'"\n              >\n              </bb-banner>\n              <bb-banner\n                ng-if="assessmentAttemptReview.shouldShowQuestionScoresReleaseSettingsMessage()"\n                class="banner-directive"\n                notice-key="assessmentAttemptReview.getQuestionScoresReleaseSettingsMessage()"\n                icon-name="\'grade\'"\n              >\n              </bb-banner>\n            </div>\n            <div ng-if="!assessmentAttemptReview.isLoading && (assessmentAttemptReview.hasQuestionWithFeedback || assessmentAttemptReview.shouldShowReleaseSettingsMessagesSection())"\n              class="message-space"\n            >\n            </div>\n          </div>\n\n          <bb-external-submission-canvas\n            ng-if="::assessmentAttemptReview.isExternalSubmissions"\n            is-attempted="true"\n            class="attempt-canvas-content"\n            attempt="assessmentAttemptReview.getResolvedAttempt()"\n            has-rubric-association="assessmentAttemptReview.column.hasRubricAssociation()"\n            questions="::assessmentAttemptReview.questions"\n            use-navigation="true">\n          </bb-external-submission-canvas>\n\n          <bb-attempt-canvas-with-navigation\n            is-secure-browser-required-to-review="assessmentAttemptReview.isSecureBrowserRequiredToReview"\n            attempt="assessmentAttemptReview.attempt"\n            has-rubric-association="assessmentAttemptReview.column.hasRubricAssociation()"\n            class="canvas-with-navigation attempt-canvas-content"\n            graded-question-attempts="assessmentAttemptReview.gradedQuestionAttempts"\n            canvas-type="assessmentAttemptReview.AssessmentCanvasMode.AttemptReview"\n            ng-if="assessmentAttemptReview.shouldRenderAttemptCanvas()">\n          </bb-attempt-canvas-with-navigation>\n        </div>\n\n        <div ng-if="assessmentAttemptReview.column.isScorm() && assessmentAttemptReview.attemptDetail" id="scorm-report">\n          <bb-scorm-submission\n            submission-detail="assessmentAttemptReview.attemptDetail">\n          </bb-scorm-submission>\n        </div>\n      </div>\n\n      <div class="spinner bb-secondary-color-2" ng-if="assessmentAttemptReview.isLoading" aria-hidden="true"></div>\n    </section>\n  </div>\n  <div ui-view="assessment-attempt-review-peek"></div>\n</div>\n'}}]);