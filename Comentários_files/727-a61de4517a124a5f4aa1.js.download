(window.webpackJsonp=window.webpackJsonp||[]).push([[727],{kxl5:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return a}));var s=t("D57K"),i=t("Llzl"),o=t("pjml"),r=t("Sa5G"),u=t("Qbdf"),c=t("jhBu"),m=t("aHpC");const l="ultra.service.announcements.permissions",a="announcementPermissions";let d=class{constructor(e,n){this.currentCourse=e,this.entitlements=n}isCurrentCourseCompleted(){return this.currentCourse.course&&this.currentCourse.course.isComplete()}getCourseAnnouncementsPermissions(){return{create:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.CreateCourseAnnouncement),modify:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.ModifyCourseAnnouncement),delete:!this.isCurrentCourseCompleted()&&this.entitlements.isEntitled(r.a.DeleteCourseAnnouncement),viewPosted:this.entitlements.isEntitled(r.a.ViewPostedCourseAnnouncement),viewUnposted:this.entitlements.isEntitled(r.a.ViewUnpostedCourseAnnouncement)}}getSystemAnnouncementsPermissions(){return{create:this.entitlements.isEntitled(r.a.CreateSystemAnnouncement),modify:this.entitlements.isEntitled(r.a.ModifySystemAnnouncement),delete:this.entitlements.isEntitled(r.a.DeleteSystemAnnouncement),viewPosted:this.entitlements.isEntitled(r.a.ViewPostedSystemAnnouncement),viewUnposted:this.entitlements.isEntitled(r.a.ViewUnpostedSystemAnnouncement)}}};d=Object(s.a)([Object(s.c)(0,Object(m.b)(u.e)),Object(s.c)(1,Object(m.b)(c.b))],d);i.module(l,[o.N]).service(a,d)},pp2P:function(e,n,t){"use strict";t.r(n),t.d(n,"moduleName",(function(){return a})),t.d(n,"controllerName",(function(){return d})),t.d(n,"componentName",(function(){return h})),t.d(n,"AnnouncementList",(function(){return b})),t.d(n,"AnnouncementListController",(function(){return C})),t.d(n,"template",(function(){return A}));var s=t("D57K"),i=t("m3mx"),o=t("0JpG"),r=t("TnpK"),u=t("kxl5"),c=t("Qbdf"),m=t("yC9S"),l=t("nmzr");const a="ultra.course.announcement-list",d="ultra.course.announcement-list.controller",h="announcementList",p=angular.module(a,[r.b,u.a,c.b]);let b=class{constructor(e,n,t,s,i,o,r){this.$element=e,this.$ngRedux=n,this.$scope=t,this.ultraState=s,this._bbLocalize=i,this.announcementPermissions=o,this.currentCourse=r,this.openAnnouncementDetailPanel=(e,n,t,s)=>{this.ultraState.goPeekState(l.a.ANNOUNCEMENT_DETAIL,{courseId:e,announcementId:n,permissions:t,mode:s})}}$postLink(){i.b.renderAnnouncementListPanel(this.$element[0],this.$ngRedux,this._bbLocalize.getLocale(this.$scope),this._bbLocalize.intl,this._bbLocalize.frmt,this._bbLocalize.isRTL(this.$scope),this.currentCourse.courseId,this.announcementPermissions.getCourseAnnouncementsPermissions(),this.openAnnouncementDetailPanel)}$onDestroy(){this.$scope.$emit("bb-announcement-panel-close"),i.b.destroyAnnouncementListPanel(this.$element[0])}};b.$inject=["$element","$ngRedux","$scope",r.d,o.serviceName,u.b,c.e],b=Object(s.a)([Object(m.a)({module:p,componentName:h})],b);class C{}const A='<div class="">\n  <announcement-list></announcement-list>\n  <div ui-view></div>\n</div>';p.controller(d,C)}}]);